!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection"),require("d3"),require("d3-color"),require("d3-fetch"),require("d3-array"),require("moment")):"function"==typeof define&&define.amd?define(["d3-selection","d3","d3-color","d3-fetch","d3-array","moment"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).CalHeatmap=e(t.d3,t.d3,t.d3,t.d3,t.d3,t.moment)}(this,(function(t,e,n,r,i,o){"use strict";function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),u=new k(i||[]);return r(a,"_invoke",{value:O(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function v(){}var y={};s(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(P([])));m&&m!==e&&n.call(m,o)&&(y=m);var b=v.prototype=d.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,o,a,u){var c=f(t[r],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,a,u)}),(function(t){i("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return i("throw",t,a,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function O(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),s(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,c,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function s(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],c=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v=function(t){return t&&t.Math==Math&&t},y=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof d&&d)||function(){return this}()||Function("return this")(),g={},m={get exports(){return g},set exports(t){g=t}},b=y,w=Object.defineProperty,x=function(t,e){try{w(b,t,{value:e,configurable:!0,writable:!0})}catch(n){b[t]=e}return e},O=x,S="__core-js_shared__",j=y[S]||O(S,{}),_=j;(m.exports=function(t,e){return _[t]||(_[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"});var k,P,E=function(t){try{return!!t()}catch(t){return!0}},A=!E((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),R=A,L=Function.prototype,T=L.call,C=R&&L.bind.bind(T,T),D=R?C:function(t){return function(){return T.apply(t,arguments)}},M=function(t){return null==t},I=M,N=TypeError,F=function(t){if(I(t))throw N("Can't call method on "+t);return t},B=F,z=Object,W=function(t){return z(B(t))},G=W,q=D({}.hasOwnProperty),$=Object.hasOwn||function(t,e){return q(G(t),e)},H=D,Y=0,U=Math.random(),V=H(1..toString),K=function(t){return"Symbol("+(void 0===t?"":t)+")_"+V(++Y+U,36)},X="object"==typeof document&&document.all,Z={all:X,IS_HTMLDDA:void 0===X&&void 0!==X},J=Z.all,Q=Z.IS_HTMLDDA?function(t){return"function"==typeof t||t===J}:function(t){return"function"==typeof t},tt=y,et=Q,nt=function(t){return et(t)?t:void 0},rt=function(t,e){return arguments.length<2?nt(tt[t]):tt[t]&&tt[t][e]},it=rt("navigator","userAgent")||"",ot=y,at=it,ut=ot.process,ct=ot.Deno,st=ut&&ut.versions||ct&&ct.version,lt=st&&st.v8;lt&&(P=(k=lt.split("."))[0]>0&&k[0]<4?1:+(k[0]+k[1])),!P&&at&&(!(k=at.match(/Edge\/(\d+)/))||k[1]>=74)&&(k=at.match(/Chrome\/(\d+)/))&&(P=+k[1]);var ft=P,ht=ft,dt=E,pt=!!Object.getOwnPropertySymbols&&!dt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ht&&ht<41})),vt=pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,yt=y,gt=$,mt=K,bt=pt,wt=vt,xt=g("wks"),Ot=yt.Symbol,St=Ot&&Ot.for,jt=wt?Ot:Ot&&Ot.withoutSetter||mt,_t=function(t){if(!gt(xt,t)||!bt&&"string"!=typeof xt[t]){var e="Symbol."+t;bt&&gt(Ot,t)?xt[t]=Ot[t]:xt[t]=wt&&St?St(e):jt(e)}return xt[t]},kt={};kt[_t("toStringTag")]="z";var Pt="[object z]"===String(kt),Et={},At=!E((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Rt=Q,Lt=Z.all,Tt=Z.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:Rt(t)||t===Lt}:function(t){return"object"==typeof t?null!==t:Rt(t)},Ct=Tt,Dt=y.document,Mt=Ct(Dt)&&Ct(Dt.createElement),It=function(t){return Mt?Dt.createElement(t):{}},Nt=It,Ft=!At&&!E((function(){return 7!=Object.defineProperty(Nt("div"),"a",{get:function(){return 7}}).a})),Bt=At&&E((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),zt=Tt,Wt=String,Gt=TypeError,qt=function(t){if(zt(t))return t;throw Gt(Wt(t)+" is not an object")},$t=A,Ht=Function.prototype.call,Yt=$t?Ht.bind(Ht):function(){return Ht.apply(Ht,arguments)},Ut=D({}.isPrototypeOf),Vt=rt,Kt=Q,Xt=Ut,Zt=Object,Jt=vt?function(t){return"symbol"==typeof t}:function(t){var e=Vt("Symbol");return Kt(e)&&Xt(e.prototype,Zt(t))},Qt=String,te=function(t){try{return Qt(t)}catch(t){return"Object"}},ee=Q,ne=te,re=TypeError,ie=function(t){if(ee(t))return t;throw re(ne(t)+" is not a function")},oe=ie,ae=M,ue=function(t,e){var n=t[e];return ae(n)?void 0:oe(n)},ce=Yt,se=Q,le=Tt,fe=TypeError,he=Yt,de=Tt,pe=Jt,ve=ue,ye=function(t,e){var n,r;if("string"===e&&se(n=t.toString)&&!le(r=ce(n,t)))return r;if(se(n=t.valueOf)&&!le(r=ce(n,t)))return r;if("string"!==e&&se(n=t.toString)&&!le(r=ce(n,t)))return r;throw fe("Can't convert object to primitive value")},ge=TypeError,me=_t("toPrimitive"),be=function(t,e){if(!de(t)||pe(t))return t;var n,r=ve(t,me);if(r){if(void 0===e&&(e="default"),n=he(r,t,e),!de(n)||pe(n))return n;throw ge("Can't convert object to primitive value")}return void 0===e&&(e="number"),ye(t,e)},we=Jt,xe=function(t){var e=be(t,"string");return we(e)?e:e+""},Oe=At,Se=Ft,je=Bt,_e=qt,ke=xe,Pe=TypeError,Ee=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor,Re="enumerable",Le="configurable",Te="writable";Et.f=Oe?je?function(t,e,n){if(_e(t),e=ke(e),_e(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Te in n&&!n[Te]){var r=Ae(t,e);r&&r[Te]&&(t[e]=n.value,n={configurable:Le in n?n[Le]:r[Le],enumerable:Re in n?n[Re]:r[Re],writable:!1})}return Ee(t,e,n)}:Ee:function(t,e,n){if(_e(t),e=ke(e),_e(n),Se)try{return Ee(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Pe("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Ce={},De={get exports(){return Ce},set exports(t){Ce=t}},Me=At,Ie=$,Ne=Function.prototype,Fe=Me&&Object.getOwnPropertyDescriptor,Be=Ie(Ne,"name"),ze={EXISTS:Be,PROPER:Be&&"something"===function(){}.name,CONFIGURABLE:Be&&(!Me||Me&&Fe(Ne,"name").configurable)},We=Q,Ge=j,qe=D(Function.toString);We(Ge.inspectSource)||(Ge.inspectSource=function(t){return qe(t)});var $e,He,Ye,Ue=Ge.inspectSource,Ve=Q,Ke=y.WeakMap,Xe=Ve(Ke)&&/native code/.test(String(Ke)),Ze=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Je=Et,Qe=Ze,tn=At?function(t,e,n){return Je.f(t,e,Qe(1,n))}:function(t,e,n){return t[e]=n,t},en=K,nn=g("keys"),rn=function(t){return nn[t]||(nn[t]=en(t))},on={},an=Xe,un=y,cn=Tt,sn=tn,ln=$,fn=j,hn=rn,dn=on,pn="Object already initialized",vn=un.TypeError,yn=un.WeakMap;if(an||fn.state){var gn=fn.state||(fn.state=new yn);gn.get=gn.get,gn.has=gn.has,gn.set=gn.set,$e=function(t,e){if(gn.has(t))throw vn(pn);return e.facade=t,gn.set(t,e),e},He=function(t){return gn.get(t)||{}},Ye=function(t){return gn.has(t)}}else{var mn=hn("state");dn[mn]=!0,$e=function(t,e){if(ln(t,mn))throw vn(pn);return e.facade=t,sn(t,mn,e),e},He=function(t){return ln(t,mn)?t[mn]:{}},Ye=function(t){return ln(t,mn)}}var bn={set:$e,get:He,has:Ye,enforce:function(t){return Ye(t)?He(t):$e(t,{})},getterFor:function(t){return function(e){var n;if(!cn(e)||(n=He(e)).type!==t)throw vn("Incompatible receiver, "+t+" required");return n}}},wn=E,xn=Q,On=$,Sn=At,jn=ze.CONFIGURABLE,_n=Ue,kn=bn.enforce,Pn=bn.get,En=Object.defineProperty,An=Sn&&!wn((function(){return 8!==En((function(){}),"length",{value:8}).length})),Rn=String(String).split("String"),Ln=De.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!On(t,"name")||jn&&t.name!==e)&&(Sn?En(t,"name",{value:e,configurable:!0}):t.name=e),An&&n&&On(n,"arity")&&t.length!==n.arity&&En(t,"length",{value:n.arity});try{n&&On(n,"constructor")&&n.constructor?Sn&&En(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=kn(t);return On(r,"source")||(r.source=Rn.join("string"==typeof e?e:"")),t};Function.prototype.toString=Ln((function(){return xn(this)&&Pn(this).source||_n(this)}),"toString");var Tn=Q,Cn=Et,Dn=Ce,Mn=x,In=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(Tn(n)&&Dn(n,o,r),r.global)i?t[e]=n:Mn(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:Cn.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},Nn=D,Fn=Nn({}.toString),Bn=Nn("".slice),zn=function(t){return Bn(Fn(t),8,-1)},Wn=Pt,Gn=Q,qn=zn,$n=_t("toStringTag"),Hn=Object,Yn="Arguments"==qn(function(){return arguments}()),Un=Wn?qn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Hn(t),$n))?n:Yn?qn(e):"Object"==(r=qn(e))&&Gn(e.callee)?"Arguments":r},Vn=Un,Kn=Pt?{}.toString:function(){return"[object "+Vn(this)+"]"};Pt||In(Object.prototype,"toString",Kn,{unsafe:!0});var Xn={},Zn={},Jn={}.propertyIsEnumerable,Qn=Object.getOwnPropertyDescriptor,tr=Qn&&!Jn.call({1:2},1);Zn.f=tr?function(t){var e=Qn(this,t);return!!e&&e.enumerable}:Jn;var er=E,nr=zn,rr=Object,ir=D("".split),or=er((function(){return!rr("z").propertyIsEnumerable(0)}))?function(t){return"String"==nr(t)?ir(t,""):rr(t)}:rr,ar=or,ur=F,cr=function(t){return ar(ur(t))},sr=At,lr=Yt,fr=Zn,hr=Ze,dr=cr,pr=xe,vr=$,yr=Ft,gr=Object.getOwnPropertyDescriptor;Xn.f=sr?gr:function(t,e){if(t=dr(t),e=pr(e),yr)try{return gr(t,e)}catch(t){}if(vr(t,e))return hr(!lr(fr.f,t,e),t[e])};var mr={},br=Math.ceil,wr=Math.floor,xr=Math.trunc||function(t){var e=+t;return(e>0?wr:br)(e)},Or=function(t){var e=+t;return e!=e||0===e?0:xr(e)},Sr=Or,jr=Math.max,_r=Math.min,kr=function(t,e){var n=Sr(t);return n<0?jr(n+e,0):_r(n,e)},Pr=Or,Er=Math.min,Ar=function(t){return t>0?Er(Pr(t),9007199254740991):0},Rr=Ar,Lr=function(t){return Rr(t.length)},Tr=cr,Cr=kr,Dr=Lr,Mr=function(t){return function(e,n,r){var i,o=Tr(e),a=Dr(o),u=Cr(r,a);if(t&&n!=n){for(;a>u;)if((i=o[u++])!=i)return!0}else for(;a>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},Ir={includes:Mr(!0),indexOf:Mr(!1)},Nr=$,Fr=cr,Br=Ir.indexOf,zr=on,Wr=D([].push),Gr=function(t,e){var n,r=Fr(t),i=0,o=[];for(n in r)!Nr(zr,n)&&Nr(r,n)&&Wr(o,n);for(;e.length>i;)Nr(r,n=e[i++])&&(~Br(o,n)||Wr(o,n));return o},qr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$r=Gr,Hr=qr.concat("length","prototype");mr.f=Object.getOwnPropertyNames||function(t){return $r(t,Hr)};var Yr={};Yr.f=Object.getOwnPropertySymbols;var Ur=rt,Vr=mr,Kr=Yr,Xr=qt,Zr=D([].concat),Jr=Ur("Reflect","ownKeys")||function(t){var e=Vr.f(Xr(t)),n=Kr.f;return n?Zr(e,n(t)):e},Qr=$,ti=Jr,ei=Xn,ni=Et,ri=E,ii=Q,oi=/#|\.prototype\./,ai=function(t,e){var n=ci[ui(t)];return n==li||n!=si&&(ii(e)?ri(e):!!e)},ui=ai.normalize=function(t){return String(t).replace(oi,".").toLowerCase()},ci=ai.data={},si=ai.NATIVE="N",li=ai.POLYFILL="P",fi=ai,hi=y,di=Xn.f,pi=tn,vi=In,yi=x,gi=function(t,e,n){for(var r=ti(e),i=ni.f,o=ei.f,a=0;a<r.length;a++){var u=r[a];Qr(t,u)||n&&Qr(n,u)||i(t,u,o(e,u))}},mi=fi,bi=function(t,e){var n,r,i,o,a,u=t.target,c=t.global,s=t.stat;if(n=c?hi:s?hi[u]||yi(u,{}):(hi[u]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=di(n,r))&&a.value:n[r],!mi(c?r:u+(s?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;gi(o,i)}(t.sham||i&&i.sham)&&pi(o,"sham",!0),vi(n,r,o,t)}},wi="process"==zn(y.process),xi=Q,Oi=String,Si=TypeError,ji=D,_i=qt,ki=function(t){if("object"==typeof t||xi(t))return t;throw Si("Can't set "+Oi(t)+" as a prototype")},Pi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=ji(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return _i(n),ki(r),e?t(n,r):n.__proto__=r,n}}():void 0),Ei=Et.f,Ai=$,Ri=_t("toStringTag"),Li=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Ai(t,Ri)&&Ei(t,Ri,{configurable:!0,value:e})},Ti=rt,Ci=Et,Di=At,Mi=_t("species"),Ii=function(t){var e=Ti(t),n=Ci.f;Di&&e&&!e[Mi]&&n(e,Mi,{configurable:!0,get:function(){return this}})},Ni=Ut,Fi=TypeError,Bi=function(t,e){if(Ni(e,t))return t;throw Fi("Incorrect invocation")},zi=D,Wi=E,Gi=Q,qi=Un,$i=Ue,Hi=function(){},Yi=[],Ui=rt("Reflect","construct"),Vi=/^\s*(?:class|function)\b/,Ki=zi(Vi.exec),Xi=!Vi.exec(Hi),Zi=function(t){if(!Gi(t))return!1;try{return Ui(Hi,Yi,t),!0}catch(t){return!1}},Ji=function(t){if(!Gi(t))return!1;switch(qi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Xi||!!Ki(Vi,$i(t))}catch(t){return!0}};Ji.sham=!0;var Qi,to,eo,no,ro=!Ui||Wi((function(){var t;return Zi(Zi.call)||!Zi(Object)||!Zi((function(){t=!0}))||t}))?Ji:Zi,io=ro,oo=te,ao=TypeError,uo=qt,co=function(t){if(io(t))return t;throw ao(oo(t)+" is not a constructor")},so=M,lo=_t("species"),fo=function(t,e){var n,r=uo(t).constructor;return void 0===r||so(n=uo(r)[lo])?e:co(n)},ho=A,po=Function.prototype,vo=po.apply,yo=po.call,go="object"==typeof Reflect&&Reflect.apply||(ho?yo.bind(vo):function(){return yo.apply(vo,arguments)}),mo=zn,bo=D,wo=function(t){if("Function"===mo(t))return bo(t)},xo=ie,Oo=A,So=wo(wo.bind),jo=function(t,e){return xo(t),void 0===e?t:Oo?So(t,e):function(){return t.apply(e,arguments)}},_o=rt("document","documentElement"),ko=D([].slice),Po=TypeError,Eo=/(?:ipad|iphone|ipod).*applewebkit/i.test(it),Ao=y,Ro=go,Lo=jo,To=Q,Co=$,Do=E,Mo=_o,Io=ko,No=It,Fo=function(t,e){if(t<e)throw Po("Not enough arguments");return t},Bo=Eo,zo=wi,Wo=Ao.setImmediate,Go=Ao.clearImmediate,qo=Ao.process,$o=Ao.Dispatch,Ho=Ao.Function,Yo=Ao.MessageChannel,Uo=Ao.String,Vo=0,Ko={},Xo="onreadystatechange";try{Qi=Ao.location}catch(t){}var Zo=function(t){if(Co(Ko,t)){var e=Ko[t];delete Ko[t],e()}},Jo=function(t){return function(){Zo(t)}},Qo=function(t){Zo(t.data)},ta=function(t){Ao.postMessage(Uo(t),Qi.protocol+"//"+Qi.host)};Wo&&Go||(Wo=function(t){Fo(arguments.length,1);var e=To(t)?t:Ho(t),n=Io(arguments,1);return Ko[++Vo]=function(){Ro(e,void 0,n)},to(Vo),Vo},Go=function(t){delete Ko[t]},zo?to=function(t){qo.nextTick(Jo(t))}:$o&&$o.now?to=function(t){$o.now(Jo(t))}:Yo&&!Bo?(no=(eo=new Yo).port2,eo.port1.onmessage=Qo,to=Lo(no.postMessage,no)):Ao.addEventListener&&To(Ao.postMessage)&&!Ao.importScripts&&Qi&&"file:"!==Qi.protocol&&!Do(ta)?(to=ta,Ao.addEventListener("message",Qo,!1)):to=Xo in No("script")?function(t){Mo.appendChild(No("script"))[Xo]=function(){Mo.removeChild(this),Zo(t)}}:function(t){setTimeout(Jo(t),0)});var ea,na,ra,ia,oa,aa,ua,ca,sa={set:Wo,clear:Go},la=y,fa=/ipad|iphone|ipod/i.test(it)&&void 0!==la.Pebble,ha=/web0s(?!.*chrome)/i.test(it),da=y,pa=jo,va=Xn.f,ya=sa.set,ga=Eo,ma=fa,ba=ha,wa=wi,xa=da.MutationObserver||da.WebKitMutationObserver,Oa=da.document,Sa=da.process,ja=da.Promise,_a=va(da,"queueMicrotask"),ka=_a&&_a.value;ka||(ea=function(){var t,e;for(wa&&(t=Sa.domain)&&t.exit();na;){e=na.fn,na=na.next;try{e()}catch(t){throw na?ia():ra=void 0,t}}ra=void 0,t&&t.enter()},ga||wa||ba||!xa||!Oa?!ma&&ja&&ja.resolve?((ua=ja.resolve(void 0)).constructor=ja,ca=pa(ua.then,ua),ia=function(){ca(ea)}):wa?ia=function(){Sa.nextTick(ea)}:(ya=pa(ya,da),ia=function(){ya(ea)}):(oa=!0,aa=Oa.createTextNode(""),new xa(ea).observe(aa,{characterData:!0}),ia=function(){aa.data=oa=!oa}));var Pa=ka||function(t){var e={fn:t,next:void 0};ra&&(ra.next=e),na||(na=e,ia()),ra=e},Ea=y,Aa=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ra=function(){this.head=null,this.tail=null};Ra.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var La=Ra,Ta=y.Promise,Ca="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Da=!Ca&&!wi&&"object"==typeof window&&"object"==typeof document,Ma=y,Ia=Ta,Na=Q,Fa=fi,Ba=Ue,za=_t,Wa=Da,Ga=Ca,qa=ft;Ia&&Ia.prototype;var $a=za("species"),Ha=!1,Ya=Na(Ma.PromiseRejectionEvent),Ua=Fa("Promise",(function(){var t=Ba(Ia),e=t!==String(Ia);if(!e&&66===qa)return!0;if(!qa||qa<51||!/native code/.test(t)){var n=new Ia((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[$a]=r,!(Ha=n.then((function(){}))instanceof r))return!0}return!e&&(Wa||Ga)&&!Ya})),Va={CONSTRUCTOR:Ua,REJECTION_EVENT:Ya,SUBCLASSING:Ha},Ka={},Xa=ie,Za=TypeError,Ja=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Za("Bad Promise constructor");e=t,n=r})),this.resolve=Xa(e),this.reject=Xa(n)};Ka.f=function(t){return new Ja(t)};var Qa,tu,eu,nu=bi,ru=wi,iu=y,ou=Yt,au=In,uu=Pi,cu=Li,su=Ii,lu=ie,fu=Q,hu=Tt,du=Bi,pu=fo,vu=sa.set,yu=Pa,gu=function(t,e){var n=Ea.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))},mu=Aa,bu=La,wu=bn,xu=Ta,Ou=Ka,Su="Promise",ju=Va.CONSTRUCTOR,_u=Va.REJECTION_EVENT,ku=Va.SUBCLASSING,Pu=wu.getterFor(Su),Eu=wu.set,Au=xu&&xu.prototype,Ru=xu,Lu=Au,Tu=iu.TypeError,Cu=iu.document,Du=iu.process,Mu=Ou.f,Iu=Mu,Nu=!!(Cu&&Cu.createEvent&&iu.dispatchEvent),Fu="unhandledrejection",Bu=function(t){var e;return!(!hu(t)||!fu(e=t.then))&&e},zu=function(t,e){var n,r,i,o=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,l=t.domain;try{u?(a||(2===e.rejection&&Hu(e),e.rejection=1),!0===u?n=o:(l&&l.enter(),n=u(o),l&&(l.exit(),i=!0)),n===t.promise?s(Tu("Promise-chain cycle")):(r=Bu(n))?ou(r,n,c,s):c(n)):s(o)}catch(t){l&&!i&&l.exit(),s(t)}},Wu=function(t,e){t.notified||(t.notified=!0,yu((function(){for(var n,r=t.reactions;n=r.get();)zu(n,t);t.notified=!1,e&&!t.rejection&&qu(t)})))},Gu=function(t,e,n){var r,i;Nu?((r=Cu.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),iu.dispatchEvent(r)):r={promise:e,reason:n},!_u&&(i=iu["on"+t])?i(r):t===Fu&&gu("Unhandled promise rejection",n)},qu=function(t){ou(vu,iu,(function(){var e,n=t.facade,r=t.value;if($u(t)&&(e=mu((function(){ru?Du.emit("unhandledRejection",r,n):Gu(Fu,n,r)})),t.rejection=ru||$u(t)?2:1,e.error))throw e.value}))},$u=function(t){return 1!==t.rejection&&!t.parent},Hu=function(t){ou(vu,iu,(function(){var e=t.facade;ru?Du.emit("rejectionHandled",e):Gu("rejectionhandled",e,t.value)}))},Yu=function(t,e,n){return function(r){t(e,r,n)}},Uu=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Wu(t,!0))},Vu=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Tu("Promise can't be resolved itself");var r=Bu(e);r?yu((function(){var n={done:!1};try{ou(r,e,Yu(Vu,n,t),Yu(Uu,n,t))}catch(e){Uu(n,e,t)}})):(t.value=e,t.state=1,Wu(t,!1))}catch(e){Uu({done:!1},e,t)}}};if(ju&&(Lu=(Ru=function(t){du(this,Lu),lu(t),ou(Qa,this);var e=Pu(this);try{t(Yu(Vu,e),Yu(Uu,e))}catch(t){Uu(e,t)}}).prototype,(Qa=function(t){Eu(this,{type:Su,done:!1,notified:!1,parent:!1,reactions:new bu,rejection:!1,state:0,value:void 0})}).prototype=au(Lu,"then",(function(t,e){var n=Pu(this),r=Mu(pu(this,Ru));return n.parent=!0,r.ok=!fu(t)||t,r.fail=fu(e)&&e,r.domain=ru?Du.domain:void 0,0==n.state?n.reactions.add(r):yu((function(){zu(r,n)})),r.promise})),tu=function(){var t=new Qa,e=Pu(t);this.promise=t,this.resolve=Yu(Vu,e),this.reject=Yu(Uu,e)},Ou.f=Mu=function(t){return t===Ru||undefined===t?new tu(t):Iu(t)},fu(xu)&&Au!==Object.prototype)){eu=Au.then,ku||au(Au,"then",(function(t,e){var n=this;return new Ru((function(t,e){ou(eu,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Au.constructor}catch(t){}uu&&uu(Au,Lu)}nu({global:!0,constructor:!0,wrap:!0,forced:ju},{Promise:Ru}),cu(Ru,Su,!1),su(Su);var Ku={},Xu=Ku,Zu=_t("iterator"),Ju=Array.prototype,Qu=function(t){return void 0!==t&&(Xu.Array===t||Ju[Zu]===t)},tc=Un,ec=ue,nc=M,rc=Ku,ic=_t("iterator"),oc=function(t){if(!nc(t))return ec(t,ic)||ec(t,"@@iterator")||rc[tc(t)]},ac=Yt,uc=ie,cc=qt,sc=te,lc=oc,fc=TypeError,hc=function(t,e){var n=arguments.length<2?lc(t):e;if(uc(n))return cc(ac(n,t));throw fc(sc(t)+" is not iterable")},dc=Yt,pc=qt,vc=ue,yc=function(t,e,n){var r,i;pc(t);try{if(!(r=vc(t,"return"))){if("throw"===e)throw n;return n}r=dc(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return pc(r),n},gc=jo,mc=Yt,bc=qt,wc=te,xc=Qu,Oc=Lr,Sc=Ut,jc=hc,_c=oc,kc=yc,Pc=TypeError,Ec=function(t,e){this.stopped=t,this.result=e},Ac=Ec.prototype,Rc=function(t,e,n){var r,i,o,a,u,c,s,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=gc(e,l),y=function(t){return r&&kc(r,"normal",t),new Ec(!0,t)},g=function(t){return f?(bc(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(h)r=t.iterator;else if(d)r=t;else{if(!(i=_c(t)))throw Pc(wc(t)+" is not iterable");if(xc(i)){for(o=0,a=Oc(t);a>o;o++)if((u=g(t[o]))&&Sc(Ac,u))return u;return new Ec(!1)}r=jc(t,i)}for(c=h?t.next:r.next;!(s=mc(c,r)).done;){try{u=g(s.value)}catch(t){kc(r,"throw",t)}if("object"==typeof u&&u&&Sc(Ac,u))return u}return new Ec(!1)},Lc=_t("iterator"),Tc=!1;try{var Cc=0,Dc={next:function(){return{done:!!Cc++}},return:function(){Tc=!0}};Dc[Lc]=function(){return this},Array.from(Dc,(function(){throw 2}))}catch(t){}var Mc=function(t,e){if(!e&&!Tc)return!1;var n=!1;try{var r={};r[Lc]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Ic=Ta,Nc=Va.CONSTRUCTOR||!Mc((function(t){Ic.all(t).then(void 0,(function(){}))})),Fc=Yt,Bc=ie,zc=Ka,Wc=Aa,Gc=Rc;bi({target:"Promise",stat:!0,forced:Nc},{all:function(t){var e=this,n=zc.f(e),r=n.resolve,i=n.reject,o=Wc((function(){var n=Bc(e.resolve),o=[],a=0,u=1;Gc(t,(function(t){var c=a++,s=!1;u++,Fc(n,e,t).then((function(t){s||(s=!0,o[c]=t,--u||r(o))}),i)})),--u||r(o)}));return o.error&&i(o.value),n.promise}});var qc=bi,$c=Va.CONSTRUCTOR,Hc=Ta,Yc=rt,Uc=Q,Vc=In,Kc=Hc&&Hc.prototype;if(qc({target:"Promise",proto:!0,forced:$c,real:!0},{catch:function(t){return this.then(void 0,t)}}),Uc(Hc)){var Xc=Yc("Promise").prototype.catch;Kc.catch!==Xc&&Vc(Kc,"catch",Xc,{unsafe:!0})}var Zc=Yt,Jc=ie,Qc=Ka,ts=Aa,es=Rc;bi({target:"Promise",stat:!0,forced:Nc},{race:function(t){var e=this,n=Qc.f(e),r=n.reject,i=ts((function(){var i=Jc(e.resolve);es(t,(function(t){Zc(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var ns=Yt,rs=Ka;bi({target:"Promise",stat:!0,forced:Va.CONSTRUCTOR},{reject:function(t){var e=rs.f(this);return ns(e.reject,void 0,t),e.promise}});var is=qt,os=Tt,as=Ka,us=bi,cs=Va.CONSTRUCTOR,ss=function(t,e){if(is(t),os(e)&&e.constructor===t)return e;var n=as.f(t);return(0,n.resolve)(e),n.promise};rt("Promise"),us({target:"Promise",stat:!0,forced:cs},{resolve:function(t){return ss(this,t)}});var ls={},fs=Gr,hs=qr,ds=Object.keys||function(t){return fs(t,hs)},ps=At,vs=Bt,ys=Et,gs=qt,ms=cr,bs=ds;ls.f=ps&&!vs?Object.defineProperties:function(t,e){gs(t);for(var n,r=ms(e),i=bs(e),o=i.length,a=0;o>a;)ys.f(t,n=i[a++],r[n]);return t};var ws,xs=qt,Os=ls,Ss=qr,js=on,_s=_o,ks=It,Ps="prototype",Es="script",As=rn("IE_PROTO"),Rs=function(){},Ls=function(t){return"<"+Es+">"+t+"</"+Es+">"},Ts=function(t){t.write(Ls("")),t.close();var e=t.parentWindow.Object;return t=null,e},Cs=function(){try{ws=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Cs="undefined"!=typeof document?document.domain&&ws?Ts(ws):(e=ks("iframe"),n="java"+Es+":",e.style.display="none",_s.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Ls("document.F=Object")),t.close(),t.F):Ts(ws);for(var r=Ss.length;r--;)delete Cs[Ps][Ss[r]];return Cs()};js[As]=!0;var Ds=Object.create||function(t,e){var n;return null!==t?(Rs[Ps]=xs(t),n=new Rs,Rs[Ps]=null,n[As]=t):n=Cs(),void 0===e?n:Os.f(n,e)},Ms=_t,Is=Ds,Ns=Et.f,Fs=Ms("unscopables"),Bs=Array.prototype;null==Bs[Fs]&&Ns(Bs,Fs,{configurable:!0,value:Is(null)});var zs,Ws,Gs,qs=function(t){Bs[Fs][t]=!0},$s=!E((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Hs=$,Ys=Q,Us=W,Vs=$s,Ks=rn("IE_PROTO"),Xs=Object,Zs=Xs.prototype,Js=Vs?Xs.getPrototypeOf:function(t){var e=Us(t);if(Hs(e,Ks))return e[Ks];var n=e.constructor;return Ys(n)&&e instanceof n?n.prototype:e instanceof Xs?Zs:null},Qs=E,tl=Q,el=Tt,nl=Js,rl=In,il=_t("iterator"),ol=!1;[].keys&&("next"in(Gs=[].keys())?(Ws=nl(nl(Gs)))!==Object.prototype&&(zs=Ws):ol=!0);var al=!el(zs)||Qs((function(){var t={};return zs[il].call(t)!==t}));al&&(zs={}),tl(zs[il])||rl(zs,il,(function(){return this}));var ul={IteratorPrototype:zs,BUGGY_SAFARI_ITERATORS:ol},cl=ul.IteratorPrototype,sl=Ds,ll=Ze,fl=Li,hl=Ku,dl=function(){return this},pl=bi,vl=Yt,yl=Q,gl=function(t,e,n,r){var i=e+" Iterator";return t.prototype=sl(cl,{next:ll(+!r,n)}),fl(t,i,!1),hl[i]=dl,t},ml=Js,bl=Pi,wl=Li,xl=tn,Ol=In,Sl=Ku,jl=ze.PROPER,_l=ze.CONFIGURABLE,kl=ul.IteratorPrototype,Pl=ul.BUGGY_SAFARI_ITERATORS,El=_t("iterator"),Al="keys",Rl="values",Ll="entries",Tl=function(){return this},Cl=function(t,e,n,r,i,o,a){gl(n,e,r);var u,c,s,l=function(t){if(t===i&&v)return v;if(!Pl&&t in d)return d[t];switch(t){case Al:case Rl:case Ll:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[El]||d["@@iterator"]||i&&d[i],v=!Pl&&p||l(i),y="Array"==e&&d.entries||p;if(y&&(u=ml(y.call(new t)))!==Object.prototype&&u.next&&(ml(u)!==kl&&(bl?bl(u,kl):yl(u[El])||Ol(u,El,Tl)),wl(u,f,!0)),jl&&i==Rl&&p&&p.name!==Rl&&(_l?xl(d,"name",Rl):(h=!0,v=function(){return vl(p,this)})),i)if(c={values:l(Rl),keys:o?v:l(Al),entries:l(Ll)},a)for(s in c)(Pl||h||!(s in d))&&Ol(d,s,c[s]);else pl({target:e,proto:!0,forced:Pl||h},c);return d[El]!==v&&Ol(d,El,v,{name:i}),Sl[e]=v,c},Dl=function(t,e){return{value:t,done:e}},Ml=cr,Il=qs,Nl=Ku,Fl=bn,Bl=Et.f,zl=Cl,Wl=Dl,Gl=At,ql="Array Iterator",$l=Fl.set,Hl=Fl.getterFor(ql),Yl=zl(Array,"Array",(function(t,e){$l(this,{type:ql,target:Ml(t),index:0,kind:e})}),(function(){var t=Hl(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,Wl(void 0,!0)):Wl("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),Ul=Nl.Arguments=Nl.Array;if(Il("keys"),Il("values"),Il("entries"),Gl&&"values"!==Ul.name)try{Bl(Ul,"name",{value:"values"})}catch(t){}var Vl=Yt,Kl=ie,Xl=Ka,Zl=Aa,Jl=Rc;bi({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Xl.f(e),r=n.resolve,i=n.reject,o=Zl((function(){var n=Kl(e.resolve),i=[],o=0,a=1;Jl(t,(function(t){var u=o++,c=!1;a++,Vl(n,e,t).then((function(t){c||(c=!0,i[u]={status:"fulfilled",value:t},--a||r(i))}),(function(t){c||(c=!0,i[u]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Ql=Un,tf=String,ef=function(t){if("Symbol"===Ql(t))throw TypeError("Cannot convert a Symbol value to a string");return tf(t)},nf=D,rf=Or,of=ef,af=F,uf=nf("".charAt),cf=nf("".charCodeAt),sf=nf("".slice),lf=function(t){return function(e,n){var r,i,o=of(af(e)),a=rf(n),u=o.length;return a<0||a>=u?t?"":void 0:(r=cf(o,a))<55296||r>56319||a+1===u||(i=cf(o,a+1))<56320||i>57343?t?uf(o,a):r:t?sf(o,a,a+2):i-56320+(r-55296<<10)+65536}},ff={codeAt:lf(!1),charAt:lf(!0)},hf=ff.charAt,df=ef,pf=bn,vf=Cl,yf=Dl,gf="String Iterator",mf=pf.set,bf=pf.getterFor(gf);vf(String,"String",(function(t){mf(this,{type:gf,string:df(t),index:0})}),(function(){var t,e=bf(this),n=e.string,r=e.index;return r>=n.length?yf(void 0,!0):(t=hf(n,r),e.index+=t.length,yf(t,!1))}));var wf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},xf=It("span").classList,Of=xf&&xf.constructor&&xf.constructor.prototype,Sf=Of===Object.prototype?void 0:Of,jf=y,_f=wf,kf=Sf,Pf=Yl,Ef=tn,Af=_t,Rf=Af("iterator"),Lf=Af("toStringTag"),Tf=Pf.values,Cf=function(t,e){if(t){if(t[Rf]!==Tf)try{Ef(t,Rf,Tf)}catch(e){t[Rf]=Tf}if(t[Lf]||Ef(t,Lf,e),_f[e])for(var n in Pf)if(t[n]!==Pf[n])try{Ef(t,n,Pf[n])}catch(e){t[n]=Pf[n]}}};for(var Df in _f)Cf(jf[Df]&&jf[Df].prototype,Df);Cf(kf,"DOMTokenList");var Mf=W,If=kr,Nf=Lr,Ff=function(t){for(var e=Mf(this),n=Nf(e),r=arguments.length,i=If(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:If(o,n);a>i;)e[i++]=t;return e},Bf=qs;bi({target:"Array",proto:!0},{fill:Ff}),Bf("fill");var zf=zn,Wf=Array.isArray||function(t){return"Array"==zf(t)},Gf=xe,qf=Et,$f=Ze,Hf=function(t,e,n){var r=Gf(e);r in t?qf.f(t,r,$f(0,n)):t[r]=n},Yf=E,Uf=ft,Vf=_t("species"),Kf=function(t){return Uf>=51||!Yf((function(){var e=[];return(e.constructor={})[Vf]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Xf=bi,Zf=Wf,Jf=ro,Qf=Tt,th=kr,eh=Lr,nh=cr,rh=Hf,ih=_t,oh=ko,ah=Kf("slice"),uh=ih("species"),ch=Array,sh=Math.max;Xf({target:"Array",proto:!0,forced:!ah},{slice:function(t,e){var n,r,i,o=nh(this),a=eh(o),u=th(t,a),c=th(void 0===e?a:e,a);if(Zf(o)&&(n=o.constructor,(Jf(n)&&(n===ch||Zf(n.prototype))||Qf(n)&&null===(n=n[uh]))&&(n=void 0),n===ch||void 0===n))return oh(o,u,c);for(r=new(void 0===n?ch:n)(sh(c-u,0)),i=0;u<c;u++,i++)u in o&&rh(r,i,o[u]);return r.length=i,r}});var lh={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new i(r,o||t,a),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],u]:t._events[c].push(u):(t._events[c]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,a){var u=n?n+t:t;if(!this._events[u])return!1;var c,s,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,a),!0}for(s=1,c=new Array(f-1);s<f;s++)c[s-1]=arguments[s];l.fn.apply(l.context,c)}else{var h,d=l.length;for(s=0;s<d;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,void 0,!0),f){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,r);break;case 4:l[s].fn.call(l[s].context,e,r,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];l[s].fn.apply(l[s].context,c)}}return!0},u.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var u=this._events[o];if(u.fn)u.fn!==e||i&&!u.once||r&&u.context!==r||a(this,o);else{for(var c=0,s=[],l=u.length;c<l;c++)(u[c].fn!==e||i&&!u[c].once||r&&u[c].context!==r)&&s.push(u[c]);s.length?this._events[o]=1===s.length?s[0]:s:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}({get exports(){return lh},set exports(t){lh=t}});var fh=lh,hh=Array.isArray;function dh(){if(!arguments.length)return[];var t=arguments[0];return hh(t)?t:[t]}var ph={},vh={get exports(){return ph},set exports(t){ph=t}},yh={},gh=kr,mh=Lr,bh=Hf,wh=Array,xh=Math.max,Oh=function(t,e,n){for(var r=mh(t),i=gh(e,r),o=gh(void 0===n?r:n,r),a=wh(xh(o-i,0)),u=0;i<o;i++,u++)bh(a,u,t[i]);return a.length=u,a},Sh=zn,jh=cr,_h=mr.f,kh=Oh,Ph="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];yh.f=function(t){return Ph&&"Window"==Sh(t)?function(t){try{return _h(t)}catch(t){return kh(Ph)}}(t):_h(jh(t))};var Eh=E((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Ah=E,Rh=Tt,Lh=zn,Th=Eh,Ch=Object.isExtensible,Dh=Ah((function(){Ch(1)}))||Th?function(t){return!!Rh(t)&&((!Th||"ArrayBuffer"!=Lh(t))&&(!Ch||Ch(t)))}:Ch,Mh=!E((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ih=bi,Nh=D,Fh=on,Bh=Tt,zh=$,Wh=Et.f,Gh=mr,qh=yh,$h=Dh,Hh=Mh,Yh=!1,Uh=K("meta"),Vh=0,Kh=function(t){Wh(t,Uh,{value:{objectID:"O"+Vh++,weakData:{}}})},Xh=vh.exports={enable:function(){Xh.enable=function(){},Yh=!0;var t=Gh.f,e=Nh([].splice),n={};n[Uh]=1,t(n).length&&(Gh.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===Uh){e(r,i,1);break}return r},Ih({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:qh.f}))},fastKey:function(t,e){if(!Bh(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!zh(t,Uh)){if(!$h(t))return"F";if(!e)return"E";Kh(t)}return t[Uh].objectID},getWeakData:function(t,e){if(!zh(t,Uh)){if(!$h(t))return!0;if(!e)return!1;Kh(t)}return t[Uh].weakData},onFreeze:function(t){return Hh&&Yh&&$h(t)&&!zh(t,Uh)&&Kh(t),t}};Fh[Uh]=!0;var Zh=Q,Jh=Tt,Qh=Pi,td=bi,ed=y,nd=D,rd=fi,id=In,od=ph,ad=Rc,ud=Bi,cd=Q,sd=M,ld=Tt,fd=E,hd=Mc,dd=Li,pd=function(t,e,n){var r,i;return Qh&&Zh(r=e.constructor)&&r!==n&&Jh(i=r.prototype)&&i!==n.prototype&&Qh(t,i),t},vd=function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",a=ed[t],u=a&&a.prototype,c=a,s={},l=function(t){var e=nd(u[t]);id(u,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!ld(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return i&&!ld(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!ld(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(rd(t,!cd(a)||!(i||u.forEach&&!fd((function(){(new a).entries().next()})))))c=n.getConstructor(e,t,r,o),od.enable();else if(rd(t,!0)){var f=new c,h=f[o](i?{}:-0,1)!=f,d=fd((function(){f.has(1)})),p=hd((function(t){new a(t)})),v=!i&&fd((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));p||((c=e((function(t,e){ud(t,u);var n=pd(new a,t,c);return sd(e)||ad(e,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=u,u.constructor=c),(d||v)&&(l("delete"),l("has"),r&&l("get")),(v||h)&&l(o),i&&u.clear&&delete u.clear}return s[t]=c,td({global:!0,constructor:!0,forced:c!=a},s),dd(c,t),i||n.setStrong(c,t,r),c},yd=In,gd=function(t,e,n){for(var r in e)yd(t,r,e[r],n);return t},md=Wf,bd=ro,wd=Tt,xd=_t("species"),Od=Array,Sd=function(t){var e;return md(t)&&(e=t.constructor,(bd(e)&&(e===Od||md(e.prototype))||wd(e)&&null===(e=e[xd]))&&(e=void 0)),void 0===e?Od:e},jd=function(t,e){return new(Sd(t))(0===e?0:e)},_d=jo,kd=or,Pd=W,Ed=Lr,Ad=jd,Rd=D([].push),Ld=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,u=5==t||o;return function(c,s,l,f){for(var h,d,p=Pd(c),v=kd(p),y=_d(s,l),g=Ed(v),m=0,b=f||Ad,w=e?b(c,g):n||a?b(c,0):void 0;g>m;m++)if((u||m in v)&&(d=y(h=v[m],m,p),t))if(e)w[m]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:Rd(w,h)}else switch(t){case 4:return!1;case 7:Rd(w,h)}return o?-1:r||i?i:w}},Td={forEach:Ld(0),map:Ld(1),filter:Ld(2),some:Ld(3),every:Ld(4),find:Ld(5),findIndex:Ld(6),filterReject:Ld(7)},Cd=D,Dd=gd,Md=ph.getWeakData,Id=Bi,Nd=qt,Fd=M,Bd=Tt,zd=Rc,Wd=$,Gd=bn.set,qd=bn.getterFor,$d=Td.find,Hd=Td.findIndex,Yd=Cd([].splice),Ud=0,Vd=function(t){return t.frozen||(t.frozen=new Kd)},Kd=function(){this.entries=[]},Xd=function(t,e){return $d(t.entries,(function(t){return t[0]===e}))};Kd.prototype={get:function(t){var e=Xd(this,t);if(e)return e[1]},has:function(t){return!!Xd(this,t)},set:function(t,e){var n=Xd(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Hd(this.entries,(function(e){return e[0]===t}));return~e&&Yd(this.entries,e,1),!!~e}};var Zd,Jd,Qd,tp,ep,np={getConstructor:function(t,e,n,r){var i=t((function(t,i){Id(t,o),Gd(t,{type:e,id:Ud++,frozen:void 0}),Fd(i)||zd(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=qd(e),u=function(t,e,n){var r=a(t),i=Md(Nd(e),!0);return!0===i?Vd(r).set(e,n):i[r.id]=n,t};return Dd(o,{delete:function(t){var e=a(this);if(!Bd(t))return!1;var n=Md(t);return!0===n?Vd(e).delete(t):n&&Wd(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!Bd(t))return!1;var n=Md(t);return!0===n?Vd(e).has(t):n&&Wd(n,e.id)}}),Dd(o,n?{get:function(t){var e=a(this);if(Bd(t)){var n=Md(t);return!0===n?Vd(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),i}};function rp(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}function ip(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}vd("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),np),function(t){t[t.SCROLL_NONE=0]="SCROLL_NONE",t[t.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",t[t.SCROLL_FORWARD=2]="SCROLL_FORWARD"}(Zd||(Zd={})),function(t){t[t.TOP=0]="TOP",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=3]="LEFT"}(Jd||(Jd={}));var op=function(){function t(e){u(this,t),Qd.add(this),this.calendar=e,this.maxDomainReached=!1,this.minDomainReached=!1}return s(t,[{key:"loadNewDomains",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zd.SCROLL_FORWARD,r=this.calendar.options.options,i=this.calendar.templateCollection,o=r.date.min?i.get(r.domain.type).extractUnit(+r.date.min):void 0,a=r.date.max?i.get(r.domain.type).extractUnit(+r.date.max):void 0,u=this.calendar.domainCollection;return ip(this,Qd,"m",tp).call(this,t,o,a,n)?Zd.SCROLL_NONE:(t.clamp(o,a).slice(r.range,n===Zd.SCROLL_FORWARD),u.merge(t,r.range,(function(n,o){var a=null;return a=t.at(o+1)?t.at(o+1):e.calendar.dateHelper.intervals(r.domain.type,n,2).pop(),i.get(r.subDomain.type).mapping(n,a-1e3,{v:null})})),ip(this,Qd,"m",ep).call(this,u.min,u.max,o,a),n===Zd.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[u.min]):n===Zd.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[u.max]),n)}},{key:"jumpTo",value:function(t,e){var n=this.calendar,r=n.domainCollection,i=n.options,o=new Date(r.min),a=new Date(r.max);return t<o?this.loadNewDomains(this.calendar.createDomainCollection(t,o),Zd.SCROLL_BACKWARD):e?this.loadNewDomains(this.calendar.createDomainCollection(t,i.options.range),o<t?Zd.SCROLL_FORWARD:Zd.SCROLL_BACKWARD):t>a?this.loadNewDomains(this.calendar.createDomainCollection(a,t),Zd.SCROLL_FORWARD):Zd.SCROLL_NONE}}]),t}();Qd=new WeakSet,tp=function(t,e,n,r){return!!(n&&t.max>=n&&this.maxDomainReached&&r===Zd.SCROLL_FORWARD)||!!(e&&t.min<=e&&this.minDomainReached&&r===Zd.SCROLL_BACKWARD)},ep=function(t,e,n,r){if(n){var i=t<=n;this.calendar.eventEmitter.emit(i?"minDateReached":"minDateNotReached"),this.minDomainReached=i}if(r){var o=e>=r;this.calendar.eventEmitter.emit(o?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=o}};var ap=TypeError,up=bi,cp=E,sp=Wf,lp=Tt,fp=W,hp=Lr,dp=function(t){if(t>9007199254740991)throw ap("Maximum allowed index exceeded");return t},pp=Hf,vp=jd,yp=Kf,gp=ft,mp=_t("isConcatSpreadable"),bp=gp>=51||!cp((function(){var t=[];return t[mp]=!1,t.concat()[0]!==t})),wp=yp("concat"),xp=function(t){if(!lp(t))return!1;var e=t[mp];return void 0!==e?!!e:sp(t)};up({target:"Array",proto:!0,arity:1,forced:!bp||!wp},{concat:function(t){var e,n,r,i,o,a=fp(this),u=vp(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(xp(o=-1===e?a:arguments[e]))for(i=hp(o),dp(c+i),n=0;n<i;n++,c++)n in o&&pp(u,c,o[n]);else dp(c+1),pp(u,c++,o);return u.length=c,u}});var Op=E,Sp=function(t,e){var n=[][t];return!!n&&Op((function(){n.call(null,e||function(){return 1},1)}))},jp=bi,_p=or,kp=cr,Pp=Sp,Ep=D([].join),Ap=_p!=Object,Rp=Pp("join",",");jp({target:"Array",proto:!0,forced:Ap||!Rp},{join:function(t){return Ep(kp(this),void 0===t?",":t)}});var Lp=Et.f,Tp=Ds,Cp=gd,Dp=jo,Mp=Bi,Ip=M,Np=Rc,Fp=Cl,Bp=Dl,zp=Ii,Wp=At,Gp=ph.fastKey,qp=bn.set,$p=bn.getterFor,Hp={getConstructor:function(t,e,n,r){var i=t((function(t,i){Mp(t,o),qp(t,{type:e,index:Tp(null),first:void 0,last:void 0,size:0}),Wp||(t.size=0),Ip(i)||Np(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=$p(e),u=function(t,e,n){var r,i,o=a(t),u=c(t,e);return u?u.value=n:(o.last=u={index:i=Gp(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=u),r&&(r.next=u),Wp?o.size++:t.size++,"F"!==i&&(o.index[i]=u)),t},c=function(t,e){var n,r=a(t),i=Gp(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Cp(o,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Wp?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=c(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),Wp?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=Dp(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),Cp(o,n?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),Wp&&Lp(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=$p(e),o=$p(r);Fp(t,e,(function(t,e){qp(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?Bp("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,Bp(void 0,!0))}),n?"entries":"values",!n,!0),zp(e)}};vd("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Hp);var Yp=te,Up=TypeError,Vp=Oh,Kp=Math.floor,Xp=function(t,e){var n=t.length,r=Kp(n/2);return n<8?Zp(t,e):Jp(t,Xp(Vp(t,0,r),e),Xp(Vp(t,r),e),e)},Zp=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},Jp=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,u=0;a<i||u<o;)t[a+u]=a<i&&u<o?r(e[a],n[u])<=0?e[a++]:n[u++]:a<i?e[a++]:n[u++];return t},Qp=Xp,tv=it.match(/firefox\/(\d+)/i),ev=!!tv&&+tv[1],nv=/MSIE|Trident/.test(it),rv=it.match(/AppleWebKit\/(\d+)\./),iv=!!rv&&+rv[1],ov=bi,av=D,uv=ie,cv=W,sv=Lr,lv=function(t,e){if(!delete t[e])throw Up("Cannot delete property "+Yp(e)+" of "+Yp(t))},fv=ef,hv=E,dv=Qp,pv=Sp,vv=ev,yv=nv,gv=ft,mv=iv,bv=[],wv=av(bv.sort),xv=av(bv.push),Ov=hv((function(){bv.sort(void 0)})),Sv=hv((function(){bv.sort(null)})),jv=pv("sort"),_v=!hv((function(){if(gv)return gv<70;if(!(vv&&vv>3)){if(yv)return!0;if(mv)return mv<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)bv.push({k:e+r,v:n})}for(bv.sort((function(t,e){return e.v-t.v})),r=0;r<bv.length;r++)e=bv[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));ov({target:"Array",proto:!0,forced:Ov||!Sv||!jv||!_v},{sort:function(t){void 0!==t&&uv(t);var e=cv(this);if(_v)return void 0===t?wv(e):wv(e,t);var n,r,i=[],o=sv(e);for(r=0;r<o;r++)r in e&&xv(i,e[r]);for(dv(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:fv(e)>fv(n)?1:-1}}(t)),n=sv(i),r=0;r<n;)e[r]=i[r++];for(;r<o;)lv(e,r++);return e}});var kv=Td.forEach,Pv=Sp("forEach")?[].forEach:function(t){return kv(this,t,arguments.length>1?arguments[1]:void 0)},Ev=y,Av=wf,Rv=Sf,Lv=Pv,Tv=tn,Cv=function(t){if(t&&t.forEach!==Lv)try{Tv(t,"forEach",Lv)}catch(e){t.forEach=Lv}};for(var Dv in Av)Av[Dv]&&Cv(Ev[Dv]&&Ev[Dv].prototype);Cv(Rv);var Mv,Iv,Nv,Fv=At,Bv=D,zv=Yt,Wv=E,Gv=ds,qv=Yr,$v=Zn,Hv=W,Yv=or,Uv=Object.assign,Vv=Object.defineProperty,Kv=Bv([].concat),Xv=!Uv||Wv((function(){if(Fv&&1!==Uv({b:1},Uv(Vv({},"a",{enumerable:!0,get:function(){Vv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Uv({},t)[n]||Gv(Uv({},e)).join("")!=r}))?function(t,e){for(var n=Hv(t),r=arguments.length,i=1,o=qv.f,a=$v.f;r>i;)for(var u,c=Yv(arguments[i++]),s=o?Kv(Gv(c),o(c)):Gv(c),l=s.length,f=0;l>f;)u=s[f++],Fv&&!zv(a,c,u)||(n[u]=c[u]);return n}:Uv,Zv=Xv;bi({target:"Object",stat:!0,arity:2,forced:Object.assign!==Zv},{assign:Zv});var Jv,Qv,ty=function(){function t(e,n){u(this,t),Mv.add(this),this.calendar=e,this.domainPainter=n,this.collection=new Map,this.scrollDirection=Zd.SCROLL_FORWARD}return s(t,[{key:"get",value:function(t){return this.collection.get(t)}},{key:"update",value:function(t,e){var n=this,r=this.calendar.options.options,i=r.verticalOrientation,o=r.domain;this.scrollDirection=e;var a={width:0,height:0},u=0,c=e===Zd.SCROLL_FORWARD?-1:1,s=t.keys;return"desc"===this.calendar.options.options.domain.sort&&(s.reverse(),c*=-1),t.yankedDomains.forEach((function(t){u+=n.collection.get(t)[i?"height":"width"]})),t.yankedDomains.forEach((function(t){var e=n.collection.get(t);n.collection.set(t,Object.assign(Object.assign({},e),{x:i?e.x:e.x+u*c,y:i?e.y+u*c:e.y}))})),s.forEach((function(t){var e=ip(n,Mv,"m",Iv).call(n,t),r=ip(n,Mv,"m",Nv).call(n,t);i?(a.height+=r,a.width=Math.max(e,a.width)):(a.width+=e,a.height=Math.max(r,a.height));var s=a.width-e,l=a.height-r;n.collection.set(t,Object.assign(Object.assign({},n.collection.get(t)),{x:i?0:s,y:i?l:0,pre_x:i?s:s-u*c,pre_y:i?l-u*c:l,width:e,height:r,inner_width:e-(i?0:o.gutter),inner_height:r-(i?o.gutter:0)}))})),a}}]),t}();Mv=new WeakSet,Iv=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).columnsCount(t),u=(r.width+r.gutter)*a-r.gutter;return n.padding[Jd.LEFT]+i.domainHorizontalLabelWidth+(o?0:n.gutter)+u+n.padding[Jd.RIGHT]},Nv=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).rowsCount(t),u=(r.height+r.gutter)*a-r.gutter;return n.padding[Jd.TOP]+u+(o?n.gutter:0)+i.domainVerticalLabelHeight+n.padding[Jd.BOTTOM]};var ey="graph-domain",ny=function(){function t(e){u(this,t),Jv.add(this),this.calendar=e,this.coordinates=new ty(e,this),this.root=null,this.dimensions={width:0,height:0}}return s(t,[{key:"paint",value:function(t,e){var n=this,r=this.calendar.options.options.animationDuration,i=e.transition().duration(r),o=this.coordinates;this.dimensions=o.update(this.calendar.domainCollection,t);var a=[];return this.root=e.select(".graph").selectAll(".".concat(ey)).data(this.calendar.domainCollection.keys,(function(t){return t})).join((function(t){return t.append("svg").attr("x",(function(t){return o.get(t).pre_x})).attr("y",(function(t){return o.get(t).pre_y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class",(function(t){return ip(n,Jv,"m",Qv).call(n,t)})).call((function(t){return t.append("rect").attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class","domain-background")})).call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())})).call((function(t){return a.push(t.selectAll(".domain-background").transition(i).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).remove().end())}))})),a}}]),t}();Jv=new WeakSet,Qv=function(t){var e=ey,n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":e+=" h_".concat(n.hour());break;case"day":e+=" d_".concat(n.date()," dy_").concat(n.isoWeekday());break;case"week":e+=" w_".concat(n.week());break;case"month":e+=" m_".concat(n.month()+1);break;case"year":e+=" y_".concat(n.year())}return e};var ry,iy,oy,ay,uy,cy,sy,ly=Ir.includes,fy=qs;bi({target:"Array",proto:!0,forced:E((function(){return!Array(1).includes()}))},{includes:function(t){return ly(this,t,arguments.length>1?arguments[1]:void 0)}}),fy("includes");var hy="graph-label",dy=function(){function t(e){u(this,t),ry.add(this),this.calendar=e}return s(t,[{key:"paint",value:function(t){var e=this,n=this.calendar.options.options.domain,r=n.label,i=n.type,o=this.calendar.dateHelper,a=r.text;null!==a&&""!==a&&(void 0===a&&(a=this.calendar.templateCollection.get(i).format.domainLabel),t.selectAll(".".concat(hy)).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("text").attr("class",hy).attr("x",(function(t){return ip(e,ry,"m",oy).call(e,t)})).attr("y",(function(t){return ip(e,ry,"m",ay).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return ip(e,ry,"m",iy).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return ip(e,ry,"m",sy).call(e,t)}))}),(function(t){t.attr("x",(function(t){return ip(e,ry,"m",oy).call(e,t)})).attr("y",(function(t){return ip(e,ry,"m",ay).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return ip(e,ry,"m",iy).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return ip(e,ry,"m",sy).call(e,t)}))})))}}]),t}();ry=new WeakSet,iy=function(){var t=this.calendar.options.options.domain.label,e=t.position,n=t.rotate;return["top","bottom"].includes(e)?"middle":"left"===n&&"left"===e||"right"===n&&"right"===e?"bottom":"hanging"},oy=function(t){var e=this.calendar.options.options.domain,n=e.padding,r=e.label,i=r.position,o=r.textAlign,a=r.offset,u=this.calendar.options.options.x.domainHorizontalLabelWidth,c=n[Jd.LEFT];return"right"===i&&(c+=ip(this,ry,"m",uy).call(this,t)),"middle"===o&&(["top","bottom"].includes(i)?c+=ip(this,ry,"m",uy).call(this,t)/2:c+=u/2),"end"===o&&(["top","bottom"].includes(i)?c+=ip(this,ry,"m",uy).call(this,t):c+=u),c+a.x},ay=function(t){var e=this.calendar.options.options,n=e.domain,r=n.label,i=r.position,o=r.offset,a=n.padding,u=e.x,c=a[Jd.TOP]+u.domainVerticalLabelHeight/2;return"bottom"===i&&(c+=ip(this,ry,"m",cy).call(this,t)),c+o.y},uy=function(t){var e=this.calendar.options.options,n=e.domain.padding,r=e.x;return this.calendar.calendarPainter.domainPainter.coordinates.get(t).inner_width-r.domainHorizontalLabelWidth-n[Jd.RIGHT]-n[Jd.LEFT]},cy=function(t){var e=this.calendar.options.options,n=e.x,r=e.domain.padding;return this.calendar.calendarPainter.domainPainter.coordinates.get(t).inner_height-n.domainVerticalLabelHeight-r[Jd.TOP]-r[Jd.BOTTOM]},sy=function(t){var e=this,n=this.calendar.options.options,r=n.domain.label,i=r.rotate,o=r.textAlign,a=r.position,u=n.x.domainHorizontalLabelWidth;switch(i){case"right":t.attr("transform",(function(t){var n=ip(e,ry,"m",uy).call(e,t),r=ip(e,ry,"m",cy).call(e,t),i=["rotate(90, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"middle"===o?i.push("translate(".concat(r/2-u/2,")")):"end"===o&&i.push("translate(".concat(r-u,")"));break;case"left":"start"===o?i.push("translate(".concat(u,")")):"middle"===o?i.push("translate(".concat(u/2+r/2,")")):"end"===o&&i.push("translate(".concat(r,")"))}return i.join(",")}));break;case"left":t.attr("transform",(function(t){var n=ip(e,ry,"m",uy).call(e,t),r=ip(e,ry,"m",cy).call(e,t),i=["rotate(270, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"start"===o?i.push("translate(-".concat(r,")")):"middle"===o?i.push("translate(-".concat(r/2+u/2,")")):"end"===o&&i.push("translate(-".concat(u,")"));break;case"left":"start"===o?i.push("translate(".concat(u-r,")")):"middle"===o&&i.push("translate(".concat(u/2-r/2,")"))}return i.join(",")}))}};var py=Td.map;bi({target:"Array",proto:!0,forced:!Kf("map")},{map:function(t){return py(this,t,arguments.length>1?arguments[1]:void 0)}});var vy,yy,gy=qt,my=E,by=y.RegExp,wy=my((function(){var t=by("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),xy=wy||my((function(){return!by("a","y").sticky})),Oy=wy||my((function(){var t=by("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),Sy={BROKEN_CARET:Oy,MISSED_STICKY:xy,UNSUPPORTED_Y:wy},jy=E,_y=y.RegExp,ky=jy((function(){var t=_y(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),Py=E,Ey=y.RegExp,Ay=Py((function(){var t=Ey("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Ry=Yt,Ly=D,Ty=ef,Cy=function(){var t=gy(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Dy=Sy,My=Ds,Iy=bn.get,Ny=ky,Fy=Ay,By=g("native-string-replace",String.prototype.replace),zy=RegExp.prototype.exec,Wy=zy,Gy=Ly("".charAt),qy=Ly("".indexOf),$y=Ly("".replace),Hy=Ly("".slice),Yy=(yy=/b*/g,Ry(zy,vy=/a/,"a"),Ry(zy,yy,"a"),0!==vy.lastIndex||0!==yy.lastIndex),Uy=Dy.BROKEN_CARET,Vy=void 0!==/()??/.exec("")[1];(Yy||Vy||Uy||Ny||Fy)&&(Wy=function(t){var e,n,r,i,o,a,u,c=this,s=Iy(c),l=Ty(t),f=s.raw;if(f)return f.lastIndex=c.lastIndex,e=Ry(Wy,f,l),c.lastIndex=f.lastIndex,e;var h=s.groups,d=Uy&&c.sticky,p=Ry(Cy,c),v=c.source,y=0,g=l;if(d&&(p=$y(p,"y",""),-1===qy(p,"g")&&(p+="g"),g=Hy(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Gy(l,c.lastIndex-1))&&(v="(?: "+v+")",g=" "+g,y++),n=new RegExp("^(?:"+v+")",p)),Vy&&(n=new RegExp("^"+v+"$(?!\\s)",p)),Yy&&(r=c.lastIndex),i=Ry(zy,d?n:c,g),d?i?(i.input=Hy(i.input,y),i[0]=Hy(i[0],y),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:Yy&&i&&(c.lastIndex=c.global?i.index+i[0].length:r),Vy&&i&&i.length>1&&Ry(By,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&h)for(i.groups=a=My(null),o=0;o<h.length;o++)a[(u=h[o])[0]]=i[u[1]];return i});var Ky=Wy;bi({target:"RegExp",proto:!0,forced:/./.exec!==Ky},{exec:Ky});var Xy,Zy,Jy,Qy,tg=wo,eg=In,ng=Ky,rg=E,ig=_t,og=tn,ag=ig("species"),ug=RegExp.prototype,cg=function(t,e,n,r){var i=ig(t),o=!rg((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!rg((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[ag]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||n){var u=tg(/./[i]),c=e(i,""[t],(function(t,e,n,r,i){var a=tg(t),c=e.exec;return c===ng||c===ug.exec?o&&!i?{done:!0,value:u(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));eg(String.prototype,t,c[0]),eg(ug,i,c[1])}r&&og(ug[i],"sham",!0)},sg=Tt,lg=zn,fg=_t("match"),hg=ff.charAt,dg=function(t,e,n){return e+(n?hg(t,e).length:1)},pg=Yt,vg=qt,yg=Q,gg=zn,mg=Ky,bg=TypeError,wg=function(t,e){var n=t.exec;if(yg(n)){var r=pg(n,t,e);return null!==r&&vg(r),r}if("RegExp"===gg(t))return pg(mg,t,e);throw bg("RegExp#exec called on incompatible receiver")},xg=go,Og=Yt,Sg=D,jg=cg,_g=qt,kg=M,Pg=function(t){var e;return sg(t)&&(void 0!==(e=t[fg])?!!e:"RegExp"==lg(t))},Eg=F,Ag=fo,Rg=dg,Lg=Ar,Tg=ef,Cg=ue,Dg=Oh,Mg=wg,Ig=Ky,Ng=E,Fg=Sy.UNSUPPORTED_Y,Bg=4294967295,zg=Math.min,Wg=[].push,Gg=Sg(/./.exec),qg=Sg(Wg),$g=Sg("".slice),Hg=!Ng((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));jg("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=Tg(Eg(this)),i=void 0===n?Bg:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Pg(t))return Og(e,r,t,i);for(var o,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=new RegExp(t.source,s+"g");(o=Og(Ig,f,r))&&!((a=f.lastIndex)>l&&(qg(c,$g(r,l,o.index)),o.length>1&&o.index<r.length&&xg(Wg,c,Dg(o,1)),u=o[0].length,l=a,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===r.length?!u&&Gg(f,"")||qg(c,""):qg(c,$g(r,l)),c.length>i?Dg(c,0,i):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:Og(e,this,t,n)}:e,[function(e,n){var i=Eg(this),o=kg(e)?void 0:Cg(e,t);return o?Og(o,e,i,n):Og(r,Tg(i),e,n)},function(t,i){var o=_g(this),a=Tg(t),u=n(r,o,a,i,r!==e);if(u.done)return u.value;var c=Ag(o,RegExp),s=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Fg?"g":"y"),f=new c(Fg?"^(?:"+o.source+")":o,l),h=void 0===i?Bg:i>>>0;if(0===h)return[];if(0===a.length)return null===Mg(f,a)?[a]:[];for(var d=0,p=0,v=[];p<a.length;){f.lastIndex=Fg?0:p;var y,g=Mg(f,Fg?$g(a,p):a);if(null===g||(y=zg(Lg(f.lastIndex+(Fg?p:0)),a.length))===d)p=Rg(a,p,s);else{if(qg(v,$g(a,d,p)),v.length===h)return v;for(var m=1;m<=g.length-1;m++)if(qg(v,g[m]),v.length===h)return v;p=d=y}}return qg(v,$g(a,d)),v}]}),!Hg,Fg);var Yg="sublabel",Ug="||",Vg=function(){function t(e){u(this,t),Xy.add(this),this.calendar=e,this.dimensions={width:0,height:0}}return s(t,[{key:"paint",value:function(t){var e=this,n=this.calendar.options.options,r=n.domain.subLabel,i=n.subDomain;if(!r)return this.dimensions={width:0,height:0},t.select(".".concat(Yg)).remove(),Promise.resolve();var o=r.radius,a=r.text,u=r.width,c=r.height,s=r.gutter,l=r.textAlign;u||(u=i.width),c||(c=i.height),s||(s=i.gutter),l||(l="start");var f=a(this.calendar.dateHelper.momentInstance).map((function(t,e){return"".concat(e).concat(Ug).concat(t)}));this.dimensions={width:u+s,height:c+f.length*c*f.length-1};var h=t.select(".".concat(Yg));return h.empty()&&(h=t.append("svg").attr("class",Yg).attr("x",0).attr("y",0)),h.selectAll("g").data(f).join((function(t){return t.append("g").call((function(t){return t.append("rect").attr("class","".concat(Yg,"-rect")).attr("style","fill: transparent;").attr("x",0).call((function(t){return ip(e,Xy,"m",Zy).call(e,t,u,c,s,o)}))})).call((function(t){return t.append("text").attr("class","".concat(Yg,"-text")).attr("dominant-baseline","central").attr("text-anchor","middle").call((function(t){return ip(e,Xy,"m",Jy).call(e,t,u,c,s,l)}))}))}),(function(t){return t.call((function(t){return t.selectAll("rect").call((function(t){return ip(e,Xy,"m",Zy).call(e,t,u,c,s,o)}))})).call((function(t){return t.selectAll("text").call((function(t){return ip(e,Xy,"m",Jy).call(e,t,u,c,s,l)}))}))})),Promise.resolve()}}]),t}();Xy=new WeakSet,Zy=function(t,e,n,r,i){t.attr("width",e).attr("height",n).attr("rx",i&&i>0?i:null).attr("ry",i&&i>0?i:null).attr("y",(function(t){return+t.split(Ug)[0]*(n+r)}))},Jy=function(t,e,n,r,i){t.attr("text-anchor",i).attr("x",ip(this,Xy,"m",Qy).call(this,i,e)).attr("y",(function(t){return+t.split(Ug)[0]*(n+r)+n/2})).text((function(t){return t.split(Ug)[1]}))},Qy=function(t,e){switch(t){case"start":default:return 0;case"middle":return e/2;case"end":return e}};var Kg,Xg,Zg,Jg,Qg,tm,em,nm="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",rm=F,im=ef,om=nm,am=D("".replace),um="["+om+"]",cm=RegExp("^"+um+um+"*"),sm=RegExp(um+um+"*$"),lm=function(t){return function(e){var n=im(rm(e));return 1&t&&(n=am(n,cm,"")),2&t&&(n=am(n,sm,"")),n}},fm={start:lm(1),end:lm(2),trim:lm(3)},hm=ze.PROPER,dm=E,pm=nm,vm=fm.trim;bi({target:"String",proto:!0,forced:function(t){return dm((function(){return!!pm[t]()||"âÂá "!=="âÂá "[t]()||hm&&pm[t].name!==t}))}("trim")},{trim:function(){return vm(this)}});var ym,gm,mm,bm,wm="graph-subdomain-group",xm=function(){function t(e){u(this,t),Kg.add(this),this.calendar=e,this.root=null}return s(t,[{key:"paint",value:function(t){var e=this;this.root=t||this.root;var n=this.root.selectAll(".".concat(wm)).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("svg").call((function(t){return ip(e,Kg,"m",Xg).call(e,t)})).attr("class",wm)}),(function(t){return t.call((function(t){return ip(e,Kg,"m",Xg).call(e,t)}))})),r=this.calendar.options.options.subDomain,i=r.radius,o=r.width,a=r.height,u=this.calendar.eventEmitter;n.selectAll("g").data((function(t){return e.calendar.domainCollection.get(t)})).join((function(t){return t.append("g").call((function(t){return t.insert("rect").attr("class",(function(t){return ip(e,Kg,"m",Zg).call(e,t.t,"graph-rect")})).attr("width",o).attr("height",a).attr("x",(function(t){return ip(e,Kg,"m",tm).call(e,t)})).attr("y",(function(t){return ip(e,Kg,"m",em).call(e,t)})).on("click",(function(t,e){return u.emit("click",t,e.t,e.v)})).on("mouseover",(function(t,e){return u.emit("mouseover",t,e.t,e.v)})).on("mouseout",(function(t,e){return u.emit("mouseout",t,e.t,e.v)})).attr("rx",i>0?i:null).attr("ry",i>0?i:null)})).call((function(t){return ip(e,Kg,"m",Jg).call(e,t)}))}),(function(t){return t.selectAll("rect").attr("class",(function(t){return ip(e,Kg,"m",Zg).call(e,t.t,"graph-rect")})).attr("width",o).attr("height",a).attr("x",(function(t){return ip(e,Kg,"m",tm).call(e,t)})).attr("y",(function(t){return ip(e,Kg,"m",em).call(e,t)})).attr("rx",i).attr("ry",i)}))}}]),t}();Kg=new WeakSet,Xg=function(t){var e=this.calendar.options.options,n=e.domain.padding,r=e.domain.label.position;t.attr("x",(function(){var t=n[Jd.LEFT];return"left"===r&&(t+=e.x.domainHorizontalLabelWidth),t})).attr("y",(function(){var t=n[Jd.TOP];return"top"===r&&(t+=e.x.domainVerticalLabelHeight),t}))},Zg=function(t){var e=this.calendar.options.options,n=e.date,r=e.subDomain,i=this.calendar.dateHelper,o="";n.highlight.length>0&&n.highlight.forEach((function(e){i.datesFromSameInterval(r.type,+e,t)&&(o="highlight")}));for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];return[o].concat(u).join(" ").trim()},Jg=function(t){var e=this,n=this.calendar.options.options,r=n.subDomain.label,i=this.calendar.dateHelper;return r?t.append("text").attr("class",(function(t){return ip(e,Kg,"m",Zg).call(e,t.t,"subdomain-text")})).attr("x",(function(t){return ip(e,Kg,"m",tm).call(e,t)+n.subDomain.width/2})).attr("y",(function(t){return ip(e,Kg,"m",em).call(e,t)+n.subDomain.height/2})).attr("text-anchor","middle").attr("dominant-baseline","central").text((function(t,e,n){return i.format(t.t,r,t.v,n[e])})):null},Qg=function(t,e){var n=this.calendar.options.options.subDomain;return e[t]*(n["x"===t?"width":"height"]+n.gutter)},tm=function(t){return ip(this,Kg,"m",Qg).call(this,"x",t)},em=function(t){return ip(this,Kg,"m",Qg).call(this,"y",t)};var Om=function(){function e(t){u(this,e),ym.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainPainter=new ny(t),this.subDomainPainter=new xm(t),this.domainLabelPainter=new dy(t),this.domainSubLabelPainter=new Vg(t)}return s(e,[{key:"setup",value:function(){var e=this.calendar.options.options.itemSelector;return this.root||(this.root=t.select(e).append("svg").attr("class","cal-heatmap-container"),this.root.attr("x",0).attr("y",0).append("svg").attr("class","graph").attr("style","fill: transparent;")),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zd.SCROLL_NONE;this.domainSubLabelPainter.paint(this.root),this.root.select(".graph").transition().duration(this.calendar.options.options.animationDuration).attr("x",this.domainSubLabelPainter.dimensions.width);var e=this.domainPainter.paint(t,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),e=e.concat(this.calendar.pluginManager.paintAll()),ip(this,ym,"m",bm).call(this),Promise.allSettled(e)}},{key:"destroy",value:function(){var t=[];return t=t.concat(this.calendar.pluginManager.destroyAll()),this.root?(t.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(t)):Promise.allSettled(t)}}]),e}();ym=new WeakSet,gm=function(){var t=this.calendar.options.options;return this.domainPainter.dimensions.height-(t.verticalOrientation?t.domain.gutter:0)},mm=function(){var t=this.calendar.options.options;return this.domainPainter.dimensions.width-(t.verticalOrientation?0:t.domain.gutter)+this.domainSubLabelPainter.dimensions.width},bm=function(){var t=this.calendar.options.options,e=ip(this,ym,"m",mm).call(this),n=ip(this,ym,"m",gm).call(this);this.root.transition().duration(t.animationDuration).attr("width",e).attr("height",n),e===this.dimensions.width&&n===this.dimensions.height||this.calendar.eventEmitter.emit("resize",e,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:e,height:n}};const Sm=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function jm(t,e){return Sm.test(t+="")?new Date(t):"function"==typeof e?e(t):e}const _m=Object.getPrototypeOf(Uint8Array),km=Object.prototype.toString,Pm=t=>()=>t;function Em(t,e){return null==t?t:void 0===e?t instanceof Array||t instanceof _m?t:Array.from(t):t instanceof e?t:e.from(t)}function Am(t,e,n=Array){return t instanceof n?t.map(e):n.from(t,e)}function Rm(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Lm(t){return function(t){return t?.toString===km}(t)&&(void 0!==t.type||void 0!==t.domain)}function Tm(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function Cm(t){for(const e of t)if(null!=e)return e instanceof Date}function Dm(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&jm(e)}function Mm(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function Im(t,e){for(const n of t)if(null!=n)return e(n)}function Nm(t,e){for(const n of t)if(null!=n&&!e(n))return!1;return!0}function Fm(t){return"string"==typeof t&&("none"===(t=t.toLowerCase().trim())||"currentcolor"===t||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||null!==e.color(t))}function Bm(t){if(null==t)return;const n=t[0],r=t[t.length-1];return e.descending(n,r)}const zm=Symbol("position"),Wm=Symbol("color"),Gm=Symbol("radius"),qm=Symbol("length"),$m=Symbol("opacity"),Hm=Symbol("symbol"),Ym=new Map([["x",zm],["y",zm],["fx",zm],["fy",zm],["r",Gm],["color",Wm],["opacity",$m],["symbol",Hm],["length",qm]]);function Um(t){return null!=t&&!Number.isNaN(t)}function Vm(t,n){return+Um(n)-+Um(t)||e.ascending(t,n)}function Km(t){return isFinite(t)?t:NaN}function Xm(t){return t>0&&isFinite(t)?t:NaN}function Zm(t){return t<0&&isFinite(t)?t:NaN}const Jm=new Map([["accent",e.schemeAccent],["category10",e.schemeCategory10],["dark2",e.schemeDark2],["paired",e.schemePaired],["pastel1",e.schemePastel1],["pastel2",e.schemePastel2],["set1",e.schemeSet1],["set2",e.schemeSet2],["set3",e.schemeSet3],["tableau10",e.schemeTableau10],["brbg",tb(e.schemeBrBG,e.interpolateBrBG)],["prgn",tb(e.schemePRGn,e.interpolatePRGn)],["piyg",tb(e.schemePiYG,e.interpolatePiYG)],["puor",tb(e.schemePuOr,e.interpolatePuOr)],["rdbu",tb(e.schemeRdBu,e.interpolateRdBu)],["rdgy",tb(e.schemeRdGy,e.interpolateRdGy)],["rdylbu",tb(e.schemeRdYlBu,e.interpolateRdYlBu)],["rdylgn",tb(e.schemeRdYlGn,e.interpolateRdYlGn)],["spectral",tb(e.schemeSpectral,e.interpolateSpectral)],["burd",eb(e.schemeRdBu,e.interpolateRdBu)],["buylrd",eb(e.schemeRdYlBu,e.interpolateRdYlBu)],["blues",Qm(e.schemeBlues,e.interpolateBlues)],["greens",Qm(e.schemeGreens,e.interpolateGreens)],["greys",Qm(e.schemeGreys,e.interpolateGreys)],["oranges",Qm(e.schemeOranges,e.interpolateOranges)],["purples",Qm(e.schemePurples,e.interpolatePurples)],["reds",Qm(e.schemeReds,e.interpolateReds)],["turbo",nb(e.interpolateTurbo)],["viridis",nb(e.interpolateViridis)],["magma",nb(e.interpolateMagma)],["inferno",nb(e.interpolateInferno)],["plasma",nb(e.interpolatePlasma)],["cividis",nb(e.interpolateCividis)],["cubehelix",nb(e.interpolateCubehelixDefault)],["warm",nb(e.interpolateWarm)],["cool",nb(e.interpolateCool)],["bugn",Qm(e.schemeBuGn,e.interpolateBuGn)],["bupu",Qm(e.schemeBuPu,e.interpolateBuPu)],["gnbu",Qm(e.schemeGnBu,e.interpolateGnBu)],["orrd",Qm(e.schemeOrRd,e.interpolateOrRd)],["pubu",Qm(e.schemePuBu,e.interpolatePuBu)],["pubugn",Qm(e.schemePuBuGn,e.interpolatePuBuGn)],["purd",Qm(e.schemePuRd,e.interpolatePuRd)],["rdpu",Qm(e.schemeRdPu,e.interpolateRdPu)],["ylgn",Qm(e.schemeYlGn,e.interpolateYlGn)],["ylgnbu",Qm(e.schemeYlGnBu,e.interpolateYlGnBu)],["ylorbr",Qm(e.schemeYlOrBr,e.interpolateYlOrBr)],["ylorrd",Qm(e.schemeYlOrRd,e.interpolateYlOrRd)],["rainbow",rb(e.interpolateRainbow)],["sinebow",rb(e.interpolateSinebow)]]);function Qm(t,n){return({length:r})=>1===r?[t[3][1]]:2===r?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)))>9?e.quantize(n,r):t[r]}function tb(t,n){return({length:r})=>2===r?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)))>11?e.quantize(n,r):t[r]}function eb(t,n){return({length:r})=>2===r?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)))>11?e.quantize((t=>n(1-t)),r):t[r].slice().reverse()}function nb(t){return({length:n})=>e.quantize(t,Math.max(2,Math.floor(n)))}function rb(t){return({length:n})=>e.quantize(t,Math.floor(n)+1).slice(0,-1)}function ib(t){const e=`${t}`.toLowerCase();if(!Jm.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Jm.get(e)}function ob(t,e){const n=ib(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const ab=new Map([["brbg",e.interpolateBrBG],["prgn",e.interpolatePRGn],["piyg",e.interpolatePiYG],["puor",e.interpolatePuOr],["rdbu",e.interpolateRdBu],["rdgy",e.interpolateRdGy],["rdylbu",e.interpolateRdYlBu],["rdylgn",e.interpolateRdYlGn],["spectral",e.interpolateSpectral],["burd",t=>e.interpolateRdBu(1-t)],["buylrd",t=>e.interpolateRdYlBu(1-t)],["blues",e.interpolateBlues],["greens",e.interpolateGreens],["greys",e.interpolateGreys],["purples",e.interpolatePurples],["reds",e.interpolateReds],["oranges",e.interpolateOranges],["turbo",e.interpolateTurbo],["viridis",e.interpolateViridis],["magma",e.interpolateMagma],["inferno",e.interpolateInferno],["plasma",e.interpolatePlasma],["cividis",e.interpolateCividis],["cubehelix",e.interpolateCubehelixDefault],["warm",e.interpolateWarm],["cool",e.interpolateCool],["bugn",e.interpolateBuGn],["bupu",e.interpolateBuPu],["gnbu",e.interpolateGnBu],["orrd",e.interpolateOrRd],["pubugn",e.interpolatePuBuGn],["pubu",e.interpolatePuBu],["purd",e.interpolatePuRd],["rdpu",e.interpolateRdPu],["ylgnbu",e.interpolateYlGnBu],["ylgn",e.interpolateYlGn],["ylorbr",e.interpolateYlOrBr],["ylorrd",e.interpolateYlOrRd],["rainbow",e.interpolateRainbow],["sinebow",e.interpolateSinebow]]);function ub(t){const e=`${t}`.toLowerCase();if(!ab.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return ab.get(e)}const cb=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function sb(t){return null!=t&&cb.has(`${t}`.toLowerCase())}const lb=function(t){let e,n;return(...r)=>((n?.length!==r.length||n.some(((t,e)=>t!==r[e])))&&(n=r,e=t(...r)),e)}((t=>new Intl.NumberFormat(t)));function fb(t){console.warn(t)}function hb(t){if(null!=t){if("number"==typeof t){const n=t;return{floor:t=>n*Math.floor(t/n),offset:t=>t+n,range:(t,r)=>e.range(Math.ceil(t/n),r/n).map((t=>n*t))}}if("function"!=typeof t.floor||"function"!=typeof t.offset)throw new Error("invalid interval; missing floor or offset function");return t}}!function(t="en-US"){const e=function(t="en-US"){const e=lb(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}(t)}();const db=t=>e=>t(1-e),pb=[0,1],vb=new Map([["number",e.interpolateNumber],["rgb",e.interpolateRgb],["hsl",e.interpolateHsl],["hcl",e.interpolateHcl],["lab",e.interpolateLab]]);function yb(t){const e=`${t}`.toLowerCase();if(!vb.has(e))throw new Error(`unknown interpolator: ${e}`);return vb.get(e)}function gb(t,n,r,{type:i,nice:o,clamp:a,zero:u,domain:c=xb(t,r),unknown:s,round:l,scheme:f,interval:h,range:d=(Ym.get(t)===Gm?Sb(r,c):Ym.get(t)===qm?jb(r,c):Ym.get(t)===$m?pb:void 0),interpolate:p=(Ym.get(t)===Wm?null==f&&void 0!==d?e.interpolateRgb:ub(void 0!==f?f:"cyclical"===i?"rainbow":"turbo"):l?e.interpolateRound:e.interpolateNumber),reverse:v}){if(h=hb(h),"cyclical"!==i&&"sequential"!==i||(i="linear"),v=!!v,"function"!=typeof p&&(p=yb(p)),1===p.length?(v&&(p=db(p),v=!1),void 0===d&&2===(d=Float64Array.from(c,((t,e)=>e/(c.length-1)))).length&&(d=pb),n.interpolate((d===pb?Pm:Pb)(p))):n.interpolate(p),u){const[t,n]=e.extent(c);(t>0||n<0)&&(Bm(c=Rm(c))!==Math.sign(t)?c[c.length-1]=0:c[0]=0)}return v&&(c=e.reverse(c)),n.domain(c).unknown(s),o&&(n.nice(!0===o?void 0:o),c=n.domain()),void 0!==d&&n.range(d),a&&n.clamp(a),{type:i,domain:c,range:d,scale:n,interpolate:p,interval:h}}function mb(t,n,{exponent:r=1,...i}){return gb(t,e.scalePow().exponent(r),n,{...i,type:"pow"})}function bb(t,n,{domain:r=[0],unknown:i,scheme:o="rdylbu",interpolate:a,range:u=(void 0!==a?e.quantize(a,r.length+1):Ym.get(t)===Wm?ob(o,r.length+1):void 0),reverse:c}){const s=Bm(Em(r));if(!e.pairs(r).every((([t,n])=>function(t,n,r){const i=e.descending(t,n);return 0===i||i===r}(t,n,s))))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(u=e.reverse(u)),{type:"threshold",scale:e.scaleThreshold(s<0?e.reverse(r):r,void 0===u?[]:u).unknown(i),domain:r,range:u}}function wb(t,n=Km){return t.length?[e.min(t,(({value:t})=>void 0===t?t:e.min(t,n))),e.max(t,(({value:t})=>void 0===t?t:e.max(t,n)))]:[0,1]}function xb(t,e){const n=Ym.get(t);return(n===Gm||n===$m||n===qm?Ob:wb)(e)}function Ob(t){return[0,t.length?e.max(t,(({value:t})=>void 0===t?t:e.max(t,Km))):1]}function Sb(t,n){const r=t.find((({radius:t})=>void 0!==t));if(void 0!==r)return[0,r.radius];const i=e.quantile(t,.5,(({value:t})=>void 0===t?NaN:e.quantile(t,.25,Xm))),o=n.map((t=>3*Math.sqrt(t/i))),a=30/e.max(o);return a<1?o.map((t=>t*a)):o}function jb(t,n){const r=e.median(t,(({value:t})=>void 0===t?NaN:e.median(t,Math.abs))),i=n.map((t=>12*t/r)),o=60/e.max(i);return o<1?i.map((t=>t*o)):i}function _b(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n=+n,n>0)return wb(t,Xm);if(n<0)return wb(t,Zm)}return[1,10]}function kb(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function Pb(t){return(e,n)=>r=>t(e+r*(n-e))}function Eb(t,n,r,i,{type:o,nice:a,clamp:u,domain:c=wb(i),unknown:s,pivot:l=0,scheme:f,range:h,symmetric:d=!0,interpolate:p=(Ym.get(t)===Wm?null==f&&void 0!==h?e.interpolateRgb:ub(void 0!==f?f:"rdbu"):e.interpolateNumber),reverse:v}){l=+l;let[y,g]=c;if(y=Math.min(y,l),g=Math.max(g,l),"function"!=typeof p&&(p=yb(p)),void 0!==h&&(p=1===p.length?Pb(p)(...h):e.piecewise(p,h)),v&&(p=db(p)),d){const t=r.apply(l),e=t-r.apply(y),n=r.apply(g)-t;e<n?y=r.invert(t-n):e>n&&(g=r.invert(t+e))}return n.domain([y,l,g]).unknown(s).interpolator(p),u&&n.clamp(u),a&&n.nice(a),{type:o,domain:[y,g],pivot:l,interpolate:p,scale:n}}function Ab(t,n,{exponent:r=1,...i}){return Eb(t,e.scaleDivergingPow().exponent(r=+r),function(t){return.5===t?Cb:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(r),n,{...i,type:"diverging-pow"})}function Rb(t,n,{constant:r=1,...i}){return Eb(t,e.scaleDivergingSymlog().constant(r=+r),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(r),n,i)}const Lb={apply:t=>t,invert:t=>t},Tb={apply:Math.log,invert:Math.exp},Cb={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function Db(t,e,n,r){return gb(t,e,n,r)}const Mb=2/Math.sqrt(3),Ib={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Mb,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Nb=new Map([["asterisk",e.symbolAsterisk],["circle",e.symbolCircle],["cross",e.symbolCross],["diamond",e.symbolDiamond],["diamond2",e.symbolDiamond2],["hexagon",Ib],["plus",e.symbolPlus],["square",e.symbolSquare],["square2",e.symbolSquare2],["star",e.symbolStar],["times",e.symbolX],["triangle",e.symbolTriangle],["triangle2",e.symbolTriangle2],["wye",e.symbolWye]]);function Fb(t){return t&&"function"==typeof t.draw}function Bb(t){return!!Fb(t)||"string"==typeof t&&Nb.has(t.toLowerCase())}function zb(t){if(null==t||Fb(t))return t;const e=Nb.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}const Wb=Symbol("ordinal");function Gb(t,n,r,{type:i,interval:o,domain:a,range:u,reverse:c,hint:s}){return o=hb(o),void 0===a&&(a=Hb(r,o,t)),"categorical"!==i&&i!==Wb||(i="ordinal"),c&&(a=e.reverse(a)),n.domain(a),void 0!==u&&("function"==typeof u&&(u=u(a)),n.range(u)),{type:i,domain:a,range:u,scale:n,hint:s,interval:o}}function qb(t,n,{type:r,interval:i,domain:o,range:a,scheme:u,unknown:c,...s}){let l;if(i=hb(i),void 0===o&&(o=Hb(n,i,t)),Ym.get(t)===Hm)l=function(t){return{fill:Yb(t,"fill"),stroke:Yb(t,"stroke")}}(n),a=void 0===a?function(t){return n=t.fill,null==n||function(t){return/^\s*none\s*$/i.test(t)}(n)?e.symbolsStroke:e.symbolsFill;var n}(l):Am(a,zb);else if(Ym.get(t)===Wm&&(void 0!==a||"ordinal"!==r&&r!==Wb||(a=function(t,e="greys"){const n=new Set,[r,i]=ob(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(i);else{if(!1!==e)return;n.add(r)}return[...n]}(o,u),void 0!==a&&(u=void 0)),void 0===u&&void 0===a&&(u="ordinal"===r?"turbo":"tableau10"),void 0!==u))if(void 0!==a){const t=ub(u),n=a[0],r=a[1]-a[0];a=({length:i})=>e.quantize((e=>t(n+r*e)),i)}else a=ib(u);if(c===e.scaleImplicit)throw new Error("implicit unknown is not supported");return Gb(t,e.scaleOrdinal().unknown(c),n,{...s,type:r,domain:o,range:a,hint:l})}function $b(t,e,n,r){let{round:i}=n;return void 0!==i&&t.round(i=!!i),(t=Gb(r,t,e,n)).round=i,t}function Hb(t,n,r){const i=new e.InternSet;for(const{value:e,domain:n}of t){if(void 0!==n)return n();if(void 0!==e)for(const t of e)i.add(t)}if(void 0!==n){const[t,r]=e.extent(i).map(n.floor,n);return n.range(t,n.offset(r))}if(i.size>1e4&&Ym.get(r)===zm)throw new Error("implicit ordinal position domain has more than 10,000 values");return e.sort(i,Vm)}function Yb(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function Ub(t,n,r){return function(t,n=[],r={}){const i=function(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:u}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==u||(n=Kb);for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(n===Kb)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const c=Ym.get(t);if(c===Wm&&void 0===i&&void 0===o&&Zb(r,e,Fm))return"identity";if(c===Hm&&void 0===i&&Zb(r,e,Bb))return"identity";if(c===Gm)return"sqrt";if(c===$m||c===qm)return"linear";if(c===Hm)return"ordinal";if((r||i||[]).length>2)return Xb(c);if(void 0!==r)return Tm(r)?Xb(c):Cm(r)?"utc":c!==Wm||null==a&&!sb(o)?"linear":"diverging";const s=e.map((({value:t})=>t)).filter((t=>void 0!==t));return s.some(Tm)?Xb(c):s.some(Cm)?"utc":c!==Wm||null==a&&!sb(o)?"linear":"diverging"}(t,n,r);if(void 0===r.type&&void 0===r.domain&&void 0===r.range&&null==r.interval&&"fx"!==t&&"fy"!==t&&function({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===Wb}({type:i})){const e=n.map((({value:t})=>t)).filter((t=>void 0!==t));e.some(Cm)?fb(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Vb(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Vb(i)}".`):e.some(Dm)?fb(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Vb(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Vb(i)}".`):e.some(Mm)&&fb(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Vb(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Vb(i)}".`)}switch(r.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=Jb(n,r,ew);break;case"identity":switch(Ym.get(t)){case zm:r=Jb(n,r,ew);break;case Hm:r=Jb(n,r,Qb)}break;case"utc":case"time":r=Jb(n,r,tw)}switch(i){case"diverging":return function(t,n,r){return Eb(t,e.scaleDiverging(),Lb,n,r)}(t,n,r);case"diverging-sqrt":return function(t,e,n){return Ab(t,e,{...n,exponent:.5})}(t,n,r);case"diverging-pow":return Ab(t,n,r);case"diverging-log":return function(t,n,{base:r=10,pivot:i=1,domain:o=wb(n,i<0?Zm:Xm),...a}){return Eb(t,e.scaleDivergingLog().base(r=+r),Tb,n,{domain:o,pivot:i,...a})}(t,n,r);case"diverging-symlog":return Rb(t,n,r);case"categorical":case"ordinal":case Wb:return qb(t,n,r);case"cyclical":case"sequential":case"linear":return function(t,n,r){return gb(t,e.scaleLinear(),n,r)}(t,n,r);case"sqrt":return function(t,e,n){return mb(t,e,{...n,exponent:.5})}(t,n,r);case"threshold":return bb(t,0,r);case"quantile":return function(t,n,{range:r,quantiles:i=(void 0===r?5:(r=[...r]).length),n:o=i,scheme:a="rdylbu",domain:u=kb(n),interpolate:c,reverse:s}){return void 0===r&&(r=void 0!==c?e.quantize(c,o):Ym.get(t)===Wm?ob(a,o):void 0),bb(t,0,{domain:e.scaleQuantile(u,void 0===r?{length:o}:r).quantiles(),range:r,reverse:s})}(t,n,r);case"quantize":return function(t,n,{range:r,n:i=(void 0===r?5:(r=[...r]).length),scheme:o="rdylbu",domain:a=xb(t,n),unknown:u,interpolate:c,reverse:s}){const[l,f]=e.extent(a);let h;return void 0===r?(h=e.ticks(l,f,i),h[0]<=l&&h.splice(0,1),h[h.length-1]>=f&&h.pop(),i=h.length+1,r=void 0!==c?e.quantize(c,i):Ym.get(t)===Wm?ob(o,i):void 0):(h=e.quantize(e.interpolateNumber(l,f),i+1).slice(1,-1),l instanceof Date&&(h=h.map((t=>new Date(t))))),Bm(Em(a))<0&&h.reverse(),bb(t,0,{domain:h,range:r,reverse:s,unknown:u})}(t,n,r);case"pow":return mb(t,n,r);case"log":return function(t,n,{base:r=10,domain:i=_b(n),...o}){return gb(t,e.scaleLog().base(r),n,{...o,domain:i})}(t,n,r);case"symlog":return function(t,n,{constant:r=1,...i}){return gb(t,e.scaleSymlog().constant(r),n,i)}(t,n,r);case"utc":return function(t,n,r){return Db(t,e.scaleUtc(),n,r)}(t,n,r);case"time":return function(t,n,r){return Db(t,e.scaleTime(),n,r)}(t,n,r);case"point":return function(t,n,{align:r=.5,padding:i=.5,...o}){return $b(e.scalePoint().align(r).padding(i),n,o,t)}(t,n,r);case"band":return function(t,n,{align:r=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=("fx"===t||"fy"===t?0:i),...u}){return $b(e.scaleBand().align(r).paddingInner(o).paddingOuter(a),n,u,t)}(t,n,r);case"identity":return Ym.get(t)===zm?{type:"identity",scale:e.scaleIdentity()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}(t,void 0===r?void 0:[{hint:r}],{...n})}function Vb(t){return"symbol"==typeof t?t.description:t}const Kb={toString:()=>"projection"};function Xb(t){switch(t){case zm:return"point";case Wm:return Wb;default:return"ordinal"}}function Zb(t,e,n){return void 0!==t?Im(t,n)&&Nm(t,n):e.some((({value:t})=>void 0!==t&&Im(t,n)))&&e.every((({value:t})=>void 0===t||Nm(t,n)))}function Jb(t,{domain:e,...n},r){for(const e of t)void 0!==e.value&&(e.value=r(e.value));return{domain:void 0===e?e:r(e),...n}}function Qb(t){return Am(t,zb)}function tw(t){return Am(t,rw)}function ew(t){return function(t){return t instanceof _m}(t)?t:Am(t,nw,Float64Array)}function nw(t){return null==t?NaN:+t}function rw(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?jm(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function iw({scale:t,type:e,domain:n,range:r,label:i,interpolate:o,interval:a,transform:u,percent:c,pivot:s}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const l=t.unknown?t.unknown():void 0;return{type:e,domain:Rm(n),...void 0!==r&&{range:Rm(r)},...void 0!==u&&{transform:u},...c&&{percent:c},...void 0!==i&&{label:i},...void 0!==l&&{unknown:l},...void 0!==a&&{interval:a},...void 0!==o&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...void 0!==s&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}function ow(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,u=t[a];(void 0!==n?n(u,e):u-e)>=0?(o=a,i=a-1):r=a+1}return o}function aw(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,u=t[a];(void 0!==n?n(u,e):u-e)>0?(o=a,i=a-1):r=a+1}return o}function uw(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,u=t[a];(void 0!==n?n(u,e):u-e)<0?(o=a,r=a+1):i=a-1}return o}function cw(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,u=t[a];(void 0!==n?n(u,e):u-e)<=0?(o=a,r=a+1):i=a-1}return o}function sw(t,e,n,r,i){for(;r<=i;){var o=r+i>>>1,a=t[o],u=void 0!==n?n(a,e):a-e;if(0===u)return o;u<=0?r=o+1:i=o-1}return-1}function lw(t,e,n,r,i,o){return"function"==typeof n?o(t,e,n,void 0===r?0:0|r,void 0===i?t.length-1:0|i):o(t,e,void 0,void 0===n?0:0|n,void 0===r?t.length-1:0|r)}Pm(e.geoTransform({point(t,e){this.stream.point(t,-e)}}));var fw={ge:function(t,e,n,r,i){return lw(t,e,n,r,i,ow)},gt:function(t,e,n,r,i){return lw(t,e,n,r,i,aw)},lt:function(t,e,n,r,i){return lw(t,e,n,r,i,uw)},le:function(t,e,n,r,i){return lw(t,e,n,r,i,cw)},eq:function(t,e,n,r,i){return lw(t,e,n,r,i,sw)}};function hw(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var dw=hw.prototype;function pw(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function vw(t,e){var n=jw(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function yw(t,e){var n=t.intervals([]);n.push(e),vw(t,n)}function gw(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?0:(n.splice(r,1),vw(t,n),1)}function mw(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function bw(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function ww(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function xw(t,e){return t-e}function Ow(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Sw(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function jw(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(xw);var r=e[e.length>>1],i=[],o=[],a=[];for(n=0;n<t.length;++n){var u=t[n];u[1]<r?i.push(u):r<u[0]?o.push(u):a.push(u)}var c=a,s=a.slice();return c.sort(Ow),s.sort(Sw),new hw(r,jw(i),jw(o),c,s)}dw.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},dw.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?yw(this,t):this.left.insert(t):this.left=jw([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?yw(this,t):this.right.insert(t):this.right=jw([t]);else{var n=fw.ge(this.leftPoints,t,Ow),r=fw.ge(this.rightPoints,t,Sw);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}},dw.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?gw(this,t):2===(o=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===o&&(this.count-=1),o):0;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?gw(this,t):2===(o=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===o&&(this.count-=1),o):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var i=this.left,o=this.right;n.count-=r.count,n.right=r.left,r.left=i,r.right=o}pw(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?pw(this,this.left):pw(this,this.right);return 1}for(i=fw.ge(this.leftPoints,t,Ow);i<this.leftPoints.length&&this.leftPoints[i][0]===t[0];++i)if(this.leftPoints[i]===t){this.count-=1,this.leftPoints.splice(i,1);for(o=fw.ge(this.rightPoints,t,Sw);o<this.rightPoints.length&&this.rightPoints[o][1]===t[1];++o)if(this.rightPoints[o]===t)return this.rightPoints.splice(o,1),1}return 0},dw.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return mw(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return bw(this.rightPoints,t,e)}return ww(this.leftPoints,e)},dw.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?mw(this.leftPoints,e,n):t>this.mid?bw(this.rightPoints,t,n):ww(this.leftPoints,n)};var _w=function(t){this.root=t}.prototype;_w.insert=function(t){this.root?this.root.insert(t):this.root=new hw(t[0],null,null,[t],[t])},_w.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),0!==e}return!1},_w.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},_w.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(_w,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(_w,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var kw="object"==typeof global&&global&&global.Object===Object&&global,Pw="object"==typeof self&&self&&self.Object===Object&&self,Ew=kw||Pw||Function("return this")(),Aw=Ew.Symbol,Rw=Object.prototype,Lw=Rw.hasOwnProperty,Tw=Rw.toString,Cw=Aw?Aw.toStringTag:void 0;var Dw=Object.prototype.toString;var Mw=Aw?Aw.toStringTag:void 0;function Iw(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Mw&&Mw in Object(t)?function(t){var e=Lw.call(t,Cw),n=t[Cw];try{t[Cw]=void 0;var r=!0}catch(t){}var i=Tw.call(t);return r&&(e?t[Cw]=n:delete t[Cw]),i}(t):function(t){return Dw.call(t)}(t)}function Nw(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Fw(t){if(!Nw(t))return!1;var e=Iw(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Bw=function(){function t(e){u(this,t),this.calendar=e}return s(t,[{key:"populate",value:function(){var t,e,r,i=this.calendar,o=i.options.options,a=null;try{var u=o.scale;a=function(t={}){let e;for(const n in t)if(Ym.has(n)&&Lm(t[n])){if(void 0!==e)throw new Error("ambiguous scale definition; multiple scales found");e=iw(Ub(n,t[n]))}if(void 0===e)throw new Error("invalid scale definition; no scale found");return e}((t={},e=u.as,r=u,(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t))}catch(t){}i.calendarPainter.root.selectAll(".graph-domain").selectAll("svg").selectAll("g").data((function(t){return i.domainCollection.get(t)||[]})).call((function(t){t.select("rect").style("fill",(function(t){return null==a?void 0:a.apply(t.v)}))})).call((function(t){t.select("text").attr("style",(function(t){var e=o.subDomain.color||n.hcl(null==a?void 0:a.apply(t.v)).l>60?"black":"white";return Fw(e)&&(e=e(t.t,t.v,null==a?void 0:a.apply(t.v))),"fill: ".concat(e,";")})).text((function(t,e,n){return i.dateHelper.format(t.t,o.subDomain.label,t.v,n[e])}))})).call((function(){i.eventEmitter.emit("fill")}))}}]),t}(),zw=W,Ww=ds;function Gw(t,e){return t===e||t!=t&&e!=e}function qw(t,e){for(var n=t.length;n--;)if(Gw(t[n][0],e))return n;return-1}bi({target:"Object",stat:!0,forced:E((function(){Ww(1)}))},{keys:function(t){return Ww(zw(t))}});var $w=Array.prototype.splice;function Hw(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hw.prototype.clear=function(){this.__data__=[],this.size=0},Hw.prototype.delete=function(t){var e=this.__data__,n=qw(e,t);return!(n<0)&&(n==e.length-1?e.pop():$w.call(e,n,1),--this.size,!0)},Hw.prototype.get=function(t){var e=this.__data__,n=qw(e,t);return n<0?void 0:e[n][1]},Hw.prototype.has=function(t){return qw(this.__data__,t)>-1},Hw.prototype.set=function(t,e){var n=this.__data__,r=qw(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Yw=Ew["__core-js_shared__"],Uw=function(){var t=/[^.]+$/.exec(Yw&&Yw.keys&&Yw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var Vw=Function.prototype.toString;function Kw(t){if(null!=t){try{return Vw.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Xw=/^\[object .+?Constructor\]$/,Zw=Function.prototype,Jw=Object.prototype,Qw=Zw.toString,tx=Jw.hasOwnProperty,ex=RegExp("^"+Qw.call(tx).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nx(t){return!(!Nw(t)||(e=t,Uw&&Uw in e))&&(Fw(t)?ex:Xw).test(Kw(t));var e}function rx(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return nx(n)?n:void 0}var ix=rx(Ew,"Map"),ox=rx(Object,"create");var ax=Object.prototype.hasOwnProperty;var ux=Object.prototype.hasOwnProperty;function cx(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function sx(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function lx(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cx.prototype.clear=function(){this.__data__=ox?ox(null):{},this.size=0},cx.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},cx.prototype.get=function(t){var e=this.__data__;if(ox){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ax.call(e,t)?e[t]:void 0},cx.prototype.has=function(t){var e=this.__data__;return ox?void 0!==e[t]:ux.call(e,t)},cx.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ox&&void 0===e?"__lodash_hash_undefined__":e,this},lx.prototype.clear=function(){this.size=0,this.__data__={hash:new cx,map:new(ix||Hw),string:new cx}},lx.prototype.delete=function(t){var e=sx(this,t).delete(t);return this.size-=e?1:0,e},lx.prototype.get=function(t){return sx(this,t).get(t)},lx.prototype.has=function(t){return sx(this,t).has(t)},lx.prototype.set=function(t,e){var n=sx(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function fx(t){var e=this.__data__=new Hw(t);this.size=e.size}fx.prototype.clear=function(){this.__data__=new Hw,this.size=0},fx.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},fx.prototype.get=function(t){return this.__data__.get(t)},fx.prototype.has=function(t){return this.__data__.has(t)},fx.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hw){var r=n.__data__;if(!ix||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lx(r)}return n.set(t,e),this.size=n.size,this};var hx=function(){try{var t=rx(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function dx(t,e,n){"__proto__"==e&&hx?hx(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function px(t,e,n){(void 0!==n&&!Gw(t[e],n)||void 0===n&&!(e in t))&&dx(t,e,n)}var vx,yx=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var u=o[vx?a:++r];if(!1===e(i[u],u,i))break}return t},gx="object"==typeof exports&&exports&&!exports.nodeType&&exports,mx=gx&&"object"==typeof module&&module&&!module.nodeType&&module,bx=mx&&mx.exports===gx?Ew.Buffer:void 0,wx=bx?bx.allocUnsafe:void 0;var xx=Ew.Uint8Array;function Ox(t,e){var n,r,i=e?(n=t.buffer,r=new n.constructor(n.byteLength),new xx(r).set(new xx(n)),r):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var Sx=Object.create,jx=function(){function t(){}return function(e){if(!Nw(e))return{};if(Sx)return Sx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function _x(t,e){return function(n){return t(e(n))}}var kx=_x(Object.getPrototypeOf,Object),Px=Object.prototype;function Ex(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Px)}function Ax(t){return null!=t&&"object"==typeof t}function Rx(t){return Ax(t)&&"[object Arguments]"==Iw(t)}var Lx=Object.prototype,Tx=Lx.hasOwnProperty,Cx=Lx.propertyIsEnumerable,Dx=Rx(function(){return arguments}())?Rx:function(t){return Ax(t)&&Tx.call(t,"callee")&&!Cx.call(t,"callee")};function Mx(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ix(t){return null!=t&&Mx(t.length)&&!Fw(t)}var Nx="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fx=Nx&&"object"==typeof module&&module&&!module.nodeType&&module,Bx=Fx&&Fx.exports===Nx?Ew.Buffer:void 0,zx=(Bx?Bx.isBuffer:void 0)||function(){return!1},Wx=Function.prototype,Gx=Object.prototype,qx=Wx.toString,$x=Gx.hasOwnProperty,Hx=qx.call(Object);var Yx={};Yx["[object Float32Array]"]=Yx["[object Float64Array]"]=Yx["[object Int8Array]"]=Yx["[object Int16Array]"]=Yx["[object Int32Array]"]=Yx["[object Uint8Array]"]=Yx["[object Uint8ClampedArray]"]=Yx["[object Uint16Array]"]=Yx["[object Uint32Array]"]=!0,Yx["[object Arguments]"]=Yx["[object Array]"]=Yx["[object ArrayBuffer]"]=Yx["[object Boolean]"]=Yx["[object DataView]"]=Yx["[object Date]"]=Yx["[object Error]"]=Yx["[object Function]"]=Yx["[object Map]"]=Yx["[object Number]"]=Yx["[object Object]"]=Yx["[object RegExp]"]=Yx["[object Set]"]=Yx["[object String]"]=Yx["[object WeakMap]"]=!1;var Ux,Vx="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kx=Vx&&"object"==typeof module&&module&&!module.nodeType&&module,Xx=Kx&&Kx.exports===Vx&&kw.process,Zx=function(){try{var t=Kx&&Kx.require&&Kx.require("util").types;return t||Xx&&Xx.binding&&Xx.binding("util")}catch(t){}}(),Jx=Zx&&Zx.isTypedArray,Qx=Jx?(Ux=Jx,function(t){return Ux(t)}):function(t){return Ax(t)&&Mx(t.length)&&!!Yx[Iw(t)]};function tO(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var eO=Object.prototype.hasOwnProperty;function nO(t,e,n){var r=t[e];eO.call(t,e)&&Gw(r,n)&&(void 0!==n||e in t)||dx(t,e,n)}var rO=/^(?:0|[1-9]\d*)$/;function iO(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&rO.test(t))&&t>-1&&t%1==0&&t<e}var oO=Object.prototype.hasOwnProperty;function aO(t,e){var n=hh(t),r=!n&&Dx(t),i=!n&&!r&&zx(t),o=!n&&!r&&!i&&Qx(t),a=n||r||i||o,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=u.length;for(var s in t)!e&&!oO.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||iO(s,c))||u.push(s);return u}var uO=Object.prototype.hasOwnProperty;function cO(t){if(!Nw(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Ex(t),n=[];for(var r in t)("constructor"!=r||!e&&uO.call(t,r))&&n.push(r);return n}function sO(t){return Ix(t)?aO(t,!0):cO(t)}function lO(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?dx(n,u,c):nO(n,u,c)}return n}(t,sO(t))}function fO(t,e,n,r,i,o,a){var u=tO(t,n),c=tO(e,n),s=a.get(c);if(s)px(t,n,s);else{var l,f=o?o(u,c,n+"",t,e,a):void 0,h=void 0===f;if(h){var d=hh(c),p=!d&&zx(c),v=!d&&!p&&Qx(c);f=c,d||p||v?hh(u)?f=u:Ax(l=u)&&Ix(l)?f=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):p?(h=!1,f=function(t,e){if(e)return t.slice();var n=t.length,r=wx?wx(n):new t.constructor(n);return t.copy(r),r}(c,!0)):v?(h=!1,f=Ox(c,!0)):f=[]:function(t){if(!Ax(t)||"[object Object]"!=Iw(t))return!1;var e=kx(t);if(null===e)return!0;var n=$x.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&qx.call(n)==Hx}(c)||Dx(c)?(f=u,Dx(u)?f=lO(u):Nw(u)&&!Fw(u)||(f=function(t){return"function"!=typeof t.constructor||Ex(t)?{}:jx(kx(t))}(c))):h=!1}h&&(a.set(c,f),i(f,c,r,o,a),a.delete(c)),px(t,n,f)}}function hO(t,e,n,r,i){t!==e&&yx(e,(function(o,a){if(i||(i=new fx),Nw(o))fO(t,e,a,n,hO,r,i);else{var u=r?r(tO(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),px(t,a,u)}}),sO)}function dO(t){return t}function pO(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vO=Math.max;var yO=hx?function(t,e){return hx(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:dO,gO=Date.now;var mO=function(t){var e=0,n=0;return function(){var r=gO(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(yO);function bO(t,e){return mO(function(t,e,n){return e=vO(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=vO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),pO(t,this,u)}}(t,e,dO),t+"")}var wO,xO=(wO=function(t,e,n,r){hO(t,e,n,r)},bO((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=wO.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!Nw(n))return!1;var r=typeof e;return!!("number"==r?Ix(n)&&iO(e,n.length):"string"==r&&e in n)&&Gw(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&wO(t,a,n,i)}return t})));function OO(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new lx;++e<n;)this.add(t[e])}function SO(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}OO.prototype.add=OO.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},OO.prototype.has=function(t){return this.__data__.has(t)};function jO(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t),l=o.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,d=2&n?new OO:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var y=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!SO(e,(function(t,e){if(a=e,!d.has(a)&&(p===t||i(p,t,n,r,o)))return d.push(e);var a}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function _O(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function kO(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var PO=Aw?Aw.prototype:void 0,EO=PO?PO.valueOf:void 0;var AO=Object.prototype.propertyIsEnumerable,RO=Object.getOwnPropertySymbols,LO=RO?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(RO(t),(function(e){return AO.call(t,e)})))}:function(){return[]},TO=_x(Object.keys,Object),CO=Object.prototype.hasOwnProperty;function DO(t){return Ix(t)?aO(t):function(t){if(!Ex(t))return TO(t);var e=[];for(var n in Object(t))CO.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function MO(t){return function(t,e,n){var r=e(t);return hh(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,DO,LO)}var IO=Object.prototype.hasOwnProperty;var NO=rx(Ew,"DataView"),FO=rx(Ew,"Promise"),BO=rx(Ew,"Set"),zO=rx(Ew,"WeakMap"),WO="[object Map]",GO="[object Promise]",qO="[object Set]",$O="[object WeakMap]",HO="[object DataView]",YO=Kw(NO),UO=Kw(ix),VO=Kw(FO),KO=Kw(BO),XO=Kw(zO),ZO=Iw;(NO&&ZO(new NO(new ArrayBuffer(1)))!=HO||ix&&ZO(new ix)!=WO||FO&&ZO(FO.resolve())!=GO||BO&&ZO(new BO)!=qO||zO&&ZO(new zO)!=$O)&&(ZO=function(t){var e=Iw(t),n="[object Object]"==e?t.constructor:void 0,r=n?Kw(n):"";if(r)switch(r){case YO:return HO;case UO:return WO;case VO:return GO;case KO:return qO;case XO:return $O}return e});var JO=ZO,QO="[object Arguments]",tS="[object Array]",eS="[object Object]",nS=Object.prototype.hasOwnProperty;function rS(t,e,n,r,i,o){var a=hh(t),u=hh(e),c=a?tS:JO(t),s=u?tS:JO(e),l=(c=c==QO?eS:c)==eS,f=(s=s==QO?eS:s)==eS,h=c==s;if(h&&zx(t)){if(!zx(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new fx),a||Qx(t)?jO(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new xx(t),new xx(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Gw(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=_O;case"[object Set]":var c=1&r;if(u||(u=kO),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=jO(u(t),u(e),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(EO)return EO.call(t)==EO.call(e)}return!1}(t,e,c,n,r,i,o);if(!(1&n)){var d=l&&nS.call(t,"__wrapped__"),p=f&&nS.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new fx),i(v,y,n,r,o)}}return!!h&&(o||(o=new fx),function(t,e,n,r,i,o){var a=1&n,u=MO(t),c=u.length;if(c!=MO(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:IO.call(e,l)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++s<c;){var v=t[l=u[s]],y=e[l];if(r)var g=a?r(y,v,l,e,t,o):r(v,y,l,t,e,o);if(!(void 0===g?v===y||i(v,y,n,r,o):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}function iS(t,e,n,r,i){return t===e||(null==t||null==e||!Ax(t)&&!Ax(e)?t!=t&&e!=e:rS(t,e,n,r,iS,i))}function oS(t,e){return iS(t,e)}var aS=Object.prototype.hasOwnProperty;function uS(t,e){return null!=t&&aS.call(t,e)}function cS(t){return"symbol"==typeof t||Ax(t)&&"[object Symbol]"==Iw(t)}var sS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lS=/^\w*$/;function fS(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(fS.Cache||lx),n}fS.Cache=lx;var hS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dS=/\\(\\)?/g,pS=function(t){var e=fS(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(hS,(function(t,n,r,i){e.push(r?i.replace(dS,"$1"):n||t)})),e}));var vS=Aw?Aw.prototype:void 0,yS=vS?vS.toString:void 0;function gS(t){if("string"==typeof t)return t;if(hh(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,gS)+"";if(cS(t))return yS?yS.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function mS(t,e){return hh(t)?t:function(t,e){if(hh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cS(t))||lS.test(t)||!sS.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:pS(function(t){return null==t?"":gS(t)}(t))}function bS(t){if("string"==typeof t||cS(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function wS(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=mS(e,t)).length,o=!1;++r<i;){var a=bS(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Mx(i)&&iO(a,i)&&(hh(t)||Dx(t))}(t,e,uS)}function xS(t,e,n){var r=null==t?void 0:function(t,e){for(var n=0,r=(e=mS(e,t)).length;null!=t&&n<r;)t=t[bS(e[n++])];return n&&n==r?t:void 0}(t,e);return void 0===r?n:r}function OS(t,e,n){return null==t?t:function(t,e,n,r){if(!Nw(t))return t;for(var i=-1,o=(e=mS(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c=bS(e[i]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var l=u[c];void 0===(s=r?r(l,c,u):void 0)&&(s=Nw(l)?l:iO(e[i+1])?[]:{})}nO(u,c,s),u=u[c]}return t}(t,e,n)}function SS(t){return"string"==typeof t||!hh(t)&&Ax(t)&&"[object String]"==Iw(t)}var jS,_S,kS={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return dh(t)},"subDomain.label":function(t){return SS(t)&&""!==t||Fw(t)?t:null}},PS=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kS;u(this,t),this.preProcessors=e,this.options={itemSelector:"#cal-heatmap",range:12,domain:{type:"hour",gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25},subLabel:void 0},subDomain:{type:"minute",width:10,height:10,gutter:2,radius:0,label:null,color:void 0},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:"en"},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum"},scale:{as:"color",type:"quantize",domain:[0,100],scheme:"YlOrBr"},animationDuration:200,x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return s(t,[{key:"set",value:function(t,e){return!(!wS(this.options,t)||oS(xS(this.options,t),e))&&(OS(this.options,t,wS(this.preProcessors,t)?xS(this.preProcessors,t)(e):e),!0)}},{key:"init",value:function(t){var e=this;this.options=Object.assign({},xO(this.options,t,(function(t,e){return Array.isArray(e)?e:void 0})));var n=this.options;Object.keys(this.preProcessors).forEach((function(t){OS(n,t,xS(e.preProcessors,t)(xS(n,t)))})),n.x.domainVerticalLabelHeight=n.domain.label.height,"top"===n.domain.label.position||"bottom"===n.domain.label.position?n.x.domainHorizontalLabelWidth=0:(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=n.domain.label.width),null!==n.domain.label.text&&""!==n.domain.label.text||(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=0)}}]),t}(),ES=D,AS=W,RS=Math.floor,LS=ES("".charAt),TS=ES("".replace),CS=ES("".slice),DS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,MS=/\$([$&'`]|\d{1,2})/g,IS=go,NS=Yt,FS=D,BS=cg,zS=E,WS=qt,GS=Q,qS=M,$S=Or,HS=Ar,YS=ef,US=F,VS=dg,KS=ue,XS=function(t,e,n,r,i,o){var a=n+t.length,u=r.length,c=MS;return void 0!==i&&(i=AS(i),c=DS),TS(o,c,(function(o,c){var s;switch(LS(c,0)){case"$":return"$";case"&":return t;case"`":return CS(e,0,n);case"'":return CS(e,a);case"<":s=i[CS(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>u){var f=RS(l/10);return 0===f?o:f<=u?void 0===r[f-1]?LS(c,1):r[f-1]+LS(c,1):o}s=r[l-1]}return void 0===s?"":s}))},ZS=wg,JS=_t("replace"),QS=Math.max,tj=Math.min,ej=FS([].concat),nj=FS([].push),rj=FS("".indexOf),ij=FS("".slice),oj="$0"==="a".replace(/./,"$0"),aj=!!/./[JS]&&""===/./[JS]("a","$0"),uj=!zS((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));BS("replace",(function(t,e,n){var r=aj?"$":"$0";return[function(t,n){var r=US(this),i=qS(t)?void 0:KS(t,JS);return i?NS(i,t,r,n):NS(e,YS(r),t,n)},function(t,i){var o=WS(this),a=YS(t);if("string"==typeof i&&-1===rj(i,r)&&-1===rj(i,"$<")){var u=n(e,o,a,i);if(u.done)return u.value}var c=GS(i);c||(i=YS(i));var s=o.global;if(s){var l=o.unicode;o.lastIndex=0}for(var f=[];;){var h=ZS(o,a);if(null===h)break;if(nj(f,h),!s)break;""===YS(h[0])&&(o.lastIndex=VS(a,HS(o.lastIndex),l))}for(var d,p="",v=0,y=0;y<f.length;y++){for(var g=YS((h=f[y])[0]),m=QS(tj($S(h.index),a.length),0),b=[],w=1;w<h.length;w++)nj(b,void 0===(d=h[w])?d:String(d));var x=h.groups;if(c){var O=ej([g],b,m,a);void 0!==x&&nj(O,x);var S=YS(IS(i,void 0,O))}else S=XS(g,a,m,b,x,i);m>=v&&(p+=ij(a,v,m)+S,v=m+g.length)}return p+ij(a,v)}]}),!uj||!oj||aj);var cj=function(){function t(e){u(this,t),jS.add(this),this.options=e}return s(t,[{key:"getDatas",value:function(t,e,n){return rp(this,void 0,void 0,a().mark((function r(){var i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(SS(t)&&t.length>0)){r.next=2;break}return r.abrupt("return",ip(this,jS,"m",_S).call(this,t,e,n));case 2:return i=[],Array.isArray(t)&&(i=t),r.abrupt("return",new Promise((function(t){t(i)})));case 5:case"end":return r.stop()}}),r,this)})))}}]),t}();jS=new WeakSet,_S=function(t,e,n){var i=this.options.options.data,o=i.type,a=i.requestInit,u=function(t,e,n){var r=t.replace(/\{\{t:start\}\}/g,"".concat(e/1e3));return(r=(r=r.replace(/\{\{t:end\}\}/g,"".concat(n/1e3))).replace(/\{\{d:start\}\}/g,new Date(e).toISOString())).replace(/\{\{d:end\}\}/g,new Date(n).toISOString())}(t,e,n);switch(o){case"json":return r.json(u,a);case"csv":return r.csv(u,a);case"tsv":return r.dsv("\t",u,a);case"txt":return r.text(u,a);default:return new Promise((function(t){t([])}))}};var sj=Td.filter;bi({target:"Array",proto:!0,forced:!Kf("filter")},{filter:function(t){return sj(this,t,arguments.length>1?arguments[1]:void 0)}});var lj=qt,fj=yc,hj=jo,dj=Yt,pj=W,vj=function(t,e,n,r){try{return r?e(lj(n)[0],n[1]):e(n)}catch(e){fj(t,"throw",e)}},yj=Qu,gj=ro,mj=Lr,bj=Hf,wj=hc,xj=oc,Oj=Array,Sj=function(t){var e=pj(t),n=gj(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=hj(i,r>2?arguments[2]:void 0));var a,u,c,s,l,f,h=xj(e),d=0;if(!h||this===Oj&&yj(h))for(a=mj(e),u=n?new this(a):Oj(a);a>d;d++)f=o?i(e[d],d):e[d],bj(u,d,f);else for(l=(s=wj(e,h)).next,u=n?new this:[];!(c=dj(l,s)).done;d++)f=o?vj(s,i,[c.value,d],!0):c.value,bj(u,d,f);return u.length=d,u};bi({target:"Array",stat:!0,forced:!Mc((function(t){Array.from(t)}))},{from:Sj});var jj,_j,kj,Pj,Ej,Aj=y,Rj=E,Lj=D,Tj=ef,Cj=fm.trim,Dj=nm,Mj=Aj.parseInt,Ij=Aj.Symbol,Nj=Ij&&Ij.iterator,Fj=/^[+-]?0x/i,Bj=Lj(Fj.exec),zj=8!==Mj(Dj+"08")||22!==Mj(Dj+"0x16")||Nj&&!Rj((function(){Mj(Object(Nj))}))?function(t,e){var n=Cj(Tj(t));return Mj(n,e>>>0||(Bj(Fj,n)?16:10))}:Mj;bi({global:!0,forced:parseInt!=zj},{parseInt:zj});var Wj=function(){function t(e,n,r,i){u(this,t),jj.add(this),this.collection=new Map,this.dateHelper=e,n&&r&&i&&(this.collection=new Map(this.dateHelper.intervals(n,r,i).map((function(t){return dh(t)})))),this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&ip(this,jj,"m",Ej).call(this)}return s(t,[{key:"has",value:function(t){return this.collection.has(t)}},{key:"get",value:function(t){return this.collection.get(t)}},{key:"forEach",value:function(t){return this.collection.forEach(t)}},{key:"at",value:function(t){return this.keys[t]}},{key:"clamp",value:function(t,e){var n=this;return t&&this.min<t&&this.keys.filter((function(e){return e<t})).forEach((function(t){return n.collection.delete(t)})),e&&this.max>e&&this.keys.filter((function(t){return t>e})).forEach((function(t){return n.collection.delete(t)})),ip(this,jj,"m",Ej).call(this),this}},{key:"merge",value:function(t,e,n){var r=this;this.yankedDomains=[],t.keys.forEach((function(t,i){if(!r.has(t)){if(r.collection.size>=e){var o=r.max;t>r.max&&(o=r.min),o&&r.collection.delete(o)&&r.yankedDomains.push(o)}r.collection.set(t,n(t,i)),ip(r,jj,"m",Ej).call(r)}})),this.yankedDomains=this.yankedDomains.sort((function(t,e){return t-e}))}},{key:"slice",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.keys.length>e){var r=n?this.keys.slice(0,-e):this.keys.slice(e);r.forEach((function(e){t.collection.delete(e)})),ip(this,jj,"m",Ej).call(this)}return this}},{key:"fill",value:function(t,e,n,r,o,a){var u=this,c=e.x,s=e.y,l=e.groupY,f=i.group(t,(function(t){return ip(u,jj,"m",Pj).call(u,t,c,o)}),(function(t){return ip(u,jj,"m",Pj).call(u,t,c,a)}));this.keys.forEach((function(t){u.get(t).forEach((function(e,n){var r=null;f.has(t)&&f.get(t).has(e.t)&&(r=ip(u,jj,"m",kj).call(u,ip(u,jj,"m",_j).call(u,f.get(t).get(e.t),s),l)),u.get(t)[n].v=r}))}))}}]),t}();jj=new WeakSet,_j=function(t,e){return t.map((function(t){return"function"==typeof e?e(t):t[e]}))},kj=function(t,e){if(SS(e))switch(e){case"sum":return i.sum(t);case"count":return i.count(t);case"min":return i.min(t)||null;case"max":return i.max(t)||null;case"median":return i.median(t)||null;default:return null}else if(Fw(e))return e(t);return null},Pj=function(t,e,n){var r="function"==typeof e?e(t):t[e];if(SS(r)){if(!this.dateHelper.date(r).isValid())return 0;r=this.dateHelper.date(r).valueOf()}return n(r)},Ej=function(){this.keys=Array.from(this.collection.keys()).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}));var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var Gj={};!function(t,e){var n;t.exports=(n=o,function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){var r=n(5)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){t.exports=n(18)()?Symbol:n(20)},function(t,e){t.exports=n},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return t.range=function(e,n){var r=this;return"string"==typeof e&&d.hasOwnProperty(e)?new p(t(r).startOf(e),t(r).endOf(e)):new p(e,n)},t.rangeFromInterval=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t();if(t.isMoment(r)||(r=t(r)),!r.isValid())throw new Error("Invalid date.");var i=r.clone().add(n,e),o=[];return o.push(t.min(r,i)),o.push(t.max(r,i)),new p(o)},t.rangeFromISOString=function(e){var n=u(e),r=t.parseZone(n[0]),i=t.parseZone(n[1]);return new p(r,i)},t.parseZoneRange=t.rangeFromISOString,t.fn.range=t.range,t.range.constructor=p,t.isRange=function(t){return t instanceof p},t.fn.within=function(t){return t.contains(this.toDate())},t}function u(t){return t.split("/")}Object.defineProperty(e,"__esModule",{value:!0}),e.DateRange=void 0;var c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.extendMoment=a;var f=r(n(2)),h=r(n(1)),d={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},p=e.DateRange=function(){function t(e,n){o(this,t);var r=e,i=n;if(1===arguments.length||void 0===n)if("object"===(void 0===e?"undefined":s(e))&&2===e.length){var a=c(e,2);r=a[0],i=a[1]}else if("string"==typeof e){var l=u(e),h=c(l,2);r=h[0],i=h[1]}this.start=r||0===r?(0,f.default)(r):(0,f.default)(-864e13),this.end=i||0===i?(0,f.default)(i):(0,f.default)(864e13)}return l(t,[{key:"adjacent",value:function(t){var e=this.start.isSame(t.end),n=this.end.isSame(t.start);return e&&t.start.valueOf()<=this.start.valueOf()||n&&t.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1};return this.overlaps(t,e)?new this.constructor(f.default.min(this.start,t.start),f.default.max(this.end,t.end)):null}},{key:"by",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeEnd:!1,step:1},n=this;return i({},h.default.iterator,(function(){var r=e.step||1,i=Math.abs(n.start.diff(n.end,t))/r,o=e.excludeEnd||!1,a=0;return e.hasOwnProperty("exclusive")&&(o=e.exclusive),{next:function(){var e=n.start.clone().add(a*r,t),u=o?!(a<i):!(a<=i);return a++,{done:u,value:u?void 0:e}}}}))}},{key:"byRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeEnd:!1,step:1},n=this,r=e.step||1,o=this.valueOf()/t.valueOf()/r,a=Math.floor(o),u=e.excludeEnd||!1,c=0;return e.hasOwnProperty("exclusive")&&(u=e.exclusive),i({},h.default.iterator,(function(){return a===1/0?{done:!0}:{next:function(){var e=(0,f.default)(n.start.valueOf()+t.valueOf()*c*r),i=a===o&&u?!(c<a):!(c<=a);return c++,{done:i,value:i?void 0:e}}}}))}},{key:"center",value:function(){var t=this.start.valueOf()+this.diff()/2;return(0,f.default)(t)}},{key:"clone",value:function(){return new this.constructor(this.start.clone(),this.end.clone())}},{key:"contains",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeStart:!1,excludeEnd:!1},r=this.start.valueOf(),i=this.end.valueOf(),o=e.valueOf(),a=e.valueOf(),u=n.excludeStart||!1,c=n.excludeEnd||!1;return n.hasOwnProperty("exclusive")&&(u=c=n.exclusive),e instanceof t&&(o=e.start.valueOf(),a=e.end.valueOf()),(r<o||r<=o&&!u)&&(i>a||i>=a&&!c)}},{key:"diff",value:function(t,e){return this.end.diff(this.start,t,e)}},{key:"duration",value:function(t,e){return this.diff(t,e)}},{key:"intersect",value:function(t){var e=this.start.valueOf(),n=this.end.valueOf(),r=t.start.valueOf(),i=t.end.valueOf(),o=r==i;if(e==n){if(e==r||e==i)return null;if(e>r&&e<i)return this.clone()}else if(o){var a=r;if(a==e||a==n)return null;if(a>e&&a<n)return new this.constructor(a,a)}return e<=r&&r<n&&n<i?new this.constructor(r,n):r<e&&e<i&&i<=n?new this.constructor(e,i):r<e&&e<=n&&n<i?this.clone():e<=r&&r<=i&&i<=n?new this.constructor(r,i):null}},{key:"isEqual",value:function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)}},{key:"isSame",value:function(t){return this.isEqual(t)}},{key:"overlaps",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1},n=null!==this.intersect(t);return e.adjacent&&!n?this.adjacent(t):n}},{key:"reverseBy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeStart:!1,step:1},n=this;return i({},h.default.iterator,(function(){var r=e.step||1,i=Math.abs(n.start.diff(n.end,t))/r,o=e.excludeStart||!1,a=0;return e.hasOwnProperty("exclusive")&&(o=e.exclusive),{next:function(){var e=n.end.clone().subtract(a*r,t),u=o?!(a<i):!(a<=i);return a++,{done:u,value:u?void 0:e}}}}))}},{key:"reverseByRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeStart:!1,step:1},n=this,r=e.step||1,o=this.valueOf()/t.valueOf()/r,a=Math.floor(o),u=e.excludeStart||!1,c=0;return e.hasOwnProperty("exclusive")&&(u=e.exclusive),i({},h.default.iterator,(function(){return a===1/0?{done:!0}:{next:function(){var e=(0,f.default)(n.end.valueOf()-t.valueOf()*c*r),i=a===o&&u?!(c<a):!(c<=a);return c++,{done:i,value:i?void 0:e}}}}))}},{key:"snapTo",value:function(t){var e=this.clone();return e.start.isSame((0,f.default)(-864e13))||(e.start=e.start.startOf(t)),e.end.isSame((0,f.default)(864e13))||(e.end=e.end.endOf(t)),e}},{key:"subtract",value:function(t){var e=this.start.valueOf(),n=this.end.valueOf(),r=t.start.valueOf(),i=t.end.valueOf();return null===this.intersect(t)?[this]:r<=e&&e<n&&n<=i?[]:r<=e&&e<i&&i<n?[new this.constructor(i,n)]:e<r&&r<n&&n<=i?[new this.constructor(e,r)]:e<r&&r<i&&i<n?[new this.constructor(e,r),new this.constructor(i,n)]:e<r&&r<n&&i<n?[new this.constructor(e,r),new this.constructor(r,n)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),t}()},function(t,e,n){var r,i=n(6),o=n(13),a=n(9),u=n(15);r=t.exports=function(t,e){var n,r,a,c,s;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],null==t?(n=a=!0,r=!1):(n=u.call(t,"c"),r=u.call(t,"e"),a=u.call(t,"w")),s={value:e,configurable:n,enumerable:r,writable:a},c?i(o(c),s):s},r.gs=function(t,e,n){var r,c,s,l;return"string"!=typeof t?(s=n,n=e,e=t,t=null):s=arguments[3],null==e?e=void 0:a(e)?null==n?n=void 0:a(n)||(s=n,n=void 0):(s=e,e=n=void 0),null==t?(r=!0,c=!1):(r=u.call(t,"c"),c=u.call(t,"e")),l={get:e,set:n,configurable:r,enumerable:c},s?i(o(s),l):l}},function(t,e,n){t.exports=function(){}},function(t,e,n){t.exports=n(7)()?Object.assign:n(8)},function(t,e,n){t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){var r=n(10),i=n(14),o=Math.max;t.exports=function(t,e){var n,a,u,c=o(arguments.length,2);for(t=Object(i(t)),u=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<c;++a)r(e=arguments[a]).forEach(u);if(void 0!==n)throw n;return t}},function(t,e,n){t.exports=function(t){return"function"==typeof t}},function(t,e,n){t.exports=n(11)()?Object.keys:n(12)},function(t,e,n){t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){var r=n(0),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},function(t,e,n){var r=n(0),i=Array.prototype.forEach,o=Object.create,a=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=o(null);return i.call(arguments,(function(t){r(t)&&a(Object(t),e)})),e}},function(t,e,n){var r=n(0);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){t.exports=n(16)()?String.prototype.contains:n(17)},function(t,e,n){var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(t,e,n){var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){var r={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},function(t,e,n){t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}},function(t,e,n){var r,i,o,a,u=n(4),c=n(21),s=Object.create,l=Object.defineProperties,f=Object.defineProperty,h=Object.prototype,d=s(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(t){}}var p=function(){var t=s(null);return function(e){for(var n,r,i=0;t[e+(i||"")];)++i;return t[e+=i||""]=!0,f(h,n="@@"+e,u.gs(null,(function(t){r||(r=!0,f(this,n,u(t)),r=!1)}))),n}}();o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(t)},t.exports=i=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return a?r(e):(n=s(o.prototype),e=void 0===e?"":String(e),l(n,{__description__:u("",e),__name__:u("",p(e))}))},l(i,{for:u((function(t){return d[t]?d[t]:d[t]=i(String(t))})),keyFor:u((function(t){var e;for(e in c(t),d)if(d[e]===t)return e})),hasInstance:u("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:u("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:u("",r&&r.iterator||i("iterator")),match:u("",r&&r.match||i("match")),replace:u("",r&&r.replace||i("replace")),search:u("",r&&r.search||i("search")),species:u("",r&&r.species||i("species")),split:u("",r&&r.split||i("split")),toPrimitive:u("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:u("",r&&r.toStringTag||i("toStringTag")),unscopables:u("",r&&r.unscopables||i("unscopables"))}),l(o.prototype,{constructor:u(i),toString:u("",(function(){return this.__name__}))}),l(i.prototype,{toString:u((function(){return"Symbol ("+c(this).__description__+")"})),valueOf:u((function(){return c(this)}))}),f(i.prototype,i.toPrimitive,u("",(function(){var t=c(this);return"symbol"==typeof t?t:t.toString()}))),f(i.prototype,i.toStringTag,u("c","Symbol")),f(o.prototype,i.toStringTag,u("c",i.prototype[i.toStringTag])),f(o.prototype,i.toPrimitive,u("c",i.prototype[i.toPrimitive]))},function(t,e,n){var r=n(19);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}}]))}({get exports(){return Gj},set exports(t){Gj=t}});var qj,$j,Hj=p(Gj),Yj=function(){function t(){u(this,t),qj.add(this),this.locale="en"}return s(t,[{key:"setup",value:function(t){this.locale=t.options.date.locale||this.locale,this.setMoment(o)}},{key:"setMoment",value:function(t){this.momentInstance=Hj.extendMoment(t),this.momentInstance.locale(this.locale)}},{key:"getMonthWeekNumber",value:function(t){var e=this.date(t).startOf("day"),n=this.date(t).startOf("month").endOf("week");return e<=n?1:Math.ceil(e.diff(n,"weeks",!0))+1}},{key:"date",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return this.momentInstance(t)}},{key:"format",value:function(t,e){if(Fw(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(void 0,[t].concat(r))}return SS(e)?this.date(t).format(e):null}},{key:"intervals",value:function(t,e,n){return ip(this,qj,"m",$j).call(this,t,e,n)}},{key:"dateFromPreviousInterval",value:function(t,e,n){return this.date(e).isBefore(this.date(n),t)}},{key:"datesFromSameInterval",value:function(t,e,n){return this.date(e).isSame(this.date(n),t)}}]),t}();qj=new WeakSet,$j=function(t,e,n){var r,i=this.date(e);return r=(r="number"==typeof n?this.momentInstance.rangeFromInterval(t,n>=0?n-1:n,i):this.momentInstance.range(i,this.date(n))).snapTo(t),Array.from(r.by(t,{excludeEnd:"number"==typeof n&&n<0})).map((function(t){return t.valueOf()}))};var Uj=["json","csv","tsv","txt"];var Vj=At,Kj=ze.EXISTS,Xj=D,Zj=Et.f,Jj=Function.prototype,Qj=Xj(Jj.toString),t_=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,e_=Xj(t_.exec);Vj&&!Kj&&Zj(Jj,"name",{configurable:!0,get:function(){try{return e_(t_,Qj(this))[1]}catch(t){return""}}});var n_=function(){function t(e){u(this,t),this.calendar=e,this.settings=new Map,this.plugins=new Map}return s(t,[{key:"add",value:function(t){var e=this;t.forEach((function(t){var n=l(t,2),r=n[0],i=n[1],o=r.name;e.plugins.get(o)&&oS(e.settings.get(o),i)||(e.settings.set(o,{options:i,dirty:!0}),e.plugins.has(o)||e.plugins.set(o,new r(e.calendar)))}))}},{key:"setupAll",value:function(){var t=this;this.plugins.forEach((function(e,n){var r=t.settings.get(n);r.dirty&&(e.setup(r.options),delete r.dirty,t.settings.set(n,r))}))}},{key:"paintAll",value:function(){return Array.from(this.plugins.values()).map((function(t){return t.paint()}))}},{key:"destroyAll",value:function(){return Array.from(this.plugins.values()).map((function(t){return t.destroy()}))}}]),t}(),r_=[function(t){return{name:"minute",level:10,rowsCount:function(){return 10},columnsCount:function(){return 6},mapping:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.intervals("minute",e,t.date(n)).map((function(e){var n=t.date(e).minute();return Object.assign({t:e,x:Math.floor(n/10),y:n%10},r)}))},format:{domainLabel:""},extractUnit:function(e){return t.date(e).startOf("minute").valueOf()}}},function(t,e){var n=e.domain,r=n.type;return{name:"hour",level:20,rowsCount:function(){return 6},columnsCount:function(e){return function(e){switch(r){case"week":return 28;case"month":return 4*(n.dynamicDimension?t.date(e).daysInMonth():31);default:return 4}}(e)},mapping:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.intervals("hour",e,t.date(n)).map((function(e){var n=t.date(e),o=n.hour(),a=n.date(),u=Math.floor(o/6);return"month"===r?u+4*(a-1):"week"===r?u+4*(n.isoWeekday()-1):Object.assign({t:e,x:u,y:Math.floor(o%6)},i)}))},format:{domainLabel:"HH:00"},extractUnit:function(e){return t.date(e).startOf("hour").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation,i=n.type,o=n.dynamicDimension;return{name:"day",level:30,rowsCount:function(){return"week"===i?1:7},columnsCount:function(e){switch(i){case"month":return Math.ceil(o&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(o?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},mapping:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=0,a=-1;return t.intervals("day",e,t.date(n)).map((function(e){var n=t.date(e);switch(i){case"month":a=t.getMonthWeekNumber(e)-1;break;case"year":o!==n.week()&&(o=n.week(),a+=1);break;case"week":a=n.weekday()}return Object.assign({t:e,x:a,y:"week"===i?0:n.weekday()},r)}))},format:{domainLabel:"Do MMM"},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation,i=n.type,o=n.dynamicDimension;return{name:"x_day",level:30,rowsCount:function(e){switch(i){case"month":return Math.ceil(o&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(o?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},columnsCount:function(){return"week"===i?1:7},mapping:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.intervals("day",e,t.date(n)).map((function(e){var n=t.date(e),o=t.date(e).endOf("year").week(),a=0;switch(i){case"month":a=t.getMonthWeekNumber(e)-1;break;case"year":1===o&&n.week()===o&&(a=t.date(e).subtract(1,"week").week()+1),a=n.week()-1;break;case"week":a=n.weekday()}return Object.assign({t:e,y:a,x:"week"===i?0:n.weekday()},r)}))},format:{domainLabel:"Do MMM"},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain,r=n.dynamicDimension;return{name:"week",level:40,rowsCount:function(){return 1},columnsCount:function(e){return function(e){switch(n.type){case"year":return r?t.date(e).endOf("year").weeksInYear():53;case"month":return r?t.getMonthWeekNumber(t.date(e).endOf("month")):5;default:return 1}}(e)},mapping:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.intervals("week",e,t.date(n)).map((function(t,e){return Object.assign({t:t,x:e,y:0},r)}))},format:{domainLabel:"wo [week] Y"},extractUnit:function(e){return t.date(e).startOf("week").valueOf()}}},function(t){return{name:"month",level:50,rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.intervals("month",e,t.date(n)).map((function(e){return Object.assign({t:e,x:t.date(e).month(),y:0},r)}))},format:{domainLabel:"MMMM"},extractUnit:function(e){return t.date(e).startOf("month").valueOf()}}},function(t){return{name:"year",level:60,rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.intervals("year",e,t.date(n)).map((function(t,e){return Object.assign({t:t,x:e,y:0},r)}))},format:{domainLabel:"Y"},extractUnit:function(e){return t.date(e).startOf("year").valueOf()}}}],i_=function(){function t(e,n){u(this,t),this.settings=new Map,this.dateHelper=e,this.options=n}return s(t,[{key:"get",value:function(t){return this.settings.get(t)}},{key:"has",value:function(t){return this.settings.has(t)}},{key:"init",value:function(){this.add(r_)}},{key:"add",value:function(t){var e=this;dh(t).forEach((function(t){var n=t(e.dateHelper,e.options.options);e.settings.set(n.name,n)}))}}]),t}(),o_=function(){function t(){u(this,t),this.options=new PS,this.dateHelper=new Yj,this.templateCollection=new i_(this.dateHelper,this.options),this.dataFetcher=new cj(this.options),this.navigator=new op(this),this.populator=new Bw(this),this.calendarPainter=new Om(this),this.eventEmitter=new fh,this.pluginManager=new n_(this)}return s(t,[{key:"createDomainCollection",value:function(t,e){return new Wj(this.dateHelper,this.options.options.domain.type,t,e)}},{key:"paint",value:function(t,e){this.options.init(t),this.dateHelper.setup(this.options),this.templateCollection.init();try{!function(t,e){var n=e.domain,r=e.subDomain,i=e.data,o=n.type,a=r.type;if(!t.has(o))throw new Error("'".concat(o,"' is not a valid domain type'"));if(!t.has(a))throw new Error("'".concat(a,"' is not a valid domain type'"));if(t.get(o).level<=t.get(a).level)throw new Error("'".concat(a,"' is not a valid subDomain to '").concat(o,"'"));if(i.type&&!Uj.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"))}(this.templateCollection,this.options.options)}catch(t){return Promise.reject(t)}return e&&this.pluginManager.add(dh(e)),this.calendarPainter.setup(),this.domainCollection=new Wj(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),Promise.allSettled([this.calendarPainter.paint(),this.fill()])}},{key:"addTemplates",value:function(t){this.templateCollection.add(t)}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,t+1).slice(t),Zd.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"previous",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-t),Zd.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"jumpTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(t,e)),this.fill()])}},{key:"fill",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.options.data.source,n=this.options.options,r=this.templateCollection,i=this.dateHelper.intervals(n.domain.type,this.domainCollection.max,2)[1],o=this.dataFetcher.getDatas(e,this.domainCollection.min,i);return new Promise((function(e,a){o.then((function(o){t.domainCollection.fill(o,n.data,t.domainCollection.min,i,r.get(n.domain.type).extractUnit,r.get(n.subDomain.type).extractUnit),t.populator.populate(),e(null)}),(function(t){a(t)}))}))}},{key:"on",value:function(t,e){this.eventEmitter.on(t,e)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}}]),t}();return o_.VERSION="4.0.0-beta.1",o_}));//# sourceMappingURL=cal-heatmap.min.js.map
